/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _data_data_flex_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./data/data-flex.json */ \"./data/data-flex.json\");\n/* harmony import */ var _src_core_jframe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../src/core/jframe */ \"../../src/core/jframe.js\");\n/* harmony import */ var _src_style_style_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../src/style/style.css */ \"../../src/style/style.css\");\n/* harmony import */ var _src_style_style_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_src_style_style_css__WEBPACK_IMPORTED_MODULE_2__);\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\n\n\nvar deleteIcon = __webpack_require__(/*! ./assets/delete.png */ \"./assets/delete.png\");\n\nvar app = document.getElementById('app');\nvar id = 0;\nvar currentInstance;\n\nvar Elem = /*#__PURE__*/function () {\n  function Elem(source) {\n    var _this = this;\n\n    _classCallCheck(this, Elem);\n\n    this.id = id++;\n    this.concept = source.concept;\n    this.tag = source.tag;\n    this.props = source.props || {};\n    this.style = source.style || {};\n    this.children = [];\n\n    if (source.children) {\n      source.children.forEach(function (c) {\n        var el = new Elem(c);\n\n        _this.children.push(el);\n\n        el.parentElement = _this;\n      });\n    }\n  }\n\n  _createClass(Elem, [{\n    key: \"toPlainObject\",\n    value: function toPlainObject() {\n      return {\n        id: this.id,\n        tag: this.tag,\n        props: JSON.parse(JSON.stringify(this.props)),\n        style: JSON.parse(JSON.stringify(this.style)),\n        children: this.children.map(function (e) {\n          return e.toPlainObject();\n        })\n      };\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      var _this2 = this;\n\n      if (this.parentElement) {\n        var idx = this.parentElement.children.findIndex(function (e) {\n          return e === _this2;\n        });\n        this.parentElement.children.splice(idx, 1);\n        return idx;\n      }\n    }\n  }]);\n\n  return Elem;\n}();\n\nvar source = new Elem(_data_data_flex_json__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction memo() {\n  var snapshots = [];\n  var i = 0;\n\n  function snapshot() {\n    snapshots = snapshots.slice(0, i + 1);\n    snapshots.push(source.toPlainObject());\n    i = snapshots.length - 1;\n  }\n\n  function revokable() {\n    return i > 0;\n  }\n\n  function redoable() {\n    return i < snapshots.length - 1;\n  }\n\n  function revoke() {\n    if (revokable()) {\n      i--;\n      source = new Elem(snapshots[i]);\n      jframeInstance.setFocusTarget(null);\n      jframeInstance.postMessage(JSON.stringify({\n        type: 'rerender',\n        elements: [source.toPlainObject()]\n      }));\n      console.log(snapshots);\n    }\n  }\n\n  function redo() {\n    if (redoable()) {\n      i++;\n      console.log(snapshots);\n      source = new Elem(snapshots[i]);\n      jframeInstance.setFocusTarget(null);\n      jframeInstance.postMessage(JSON.stringify({\n        type: 'rerender',\n        elements: [source.toPlainObject()]\n      }));\n    }\n  }\n\n  return {\n    snapshot: snapshot,\n    revokable: revokable,\n    redoable: redoable,\n    revoke: revoke,\n    redo: redo\n  };\n}\n\nvar _memo = memo(),\n    snapshot = _memo.snapshot,\n    revokable = _memo.revokable,\n    redoable = _memo.redoable,\n    revoke = _memo.revoke,\n    redo = _memo.redo;\n\ndocument.getElementById('revokebtn').addEventListener('click', function () {\n  revoke();\n});\ndocument.getElementById('redobtn').addEventListener('click', function () {\n  redo();\n});\nvar dataElemDescription = {\n  getRoot: function getRoot() {\n    return source;\n  },\n  bindElement: function bindElement(jframe, source) {\n    return jframe.getRenderElement(\"[data-id=\\\"\".concat(source.id, \"\\\"]\"));\n  },\n  getSourceChildren: function getSourceChildren(source) {\n    return source.children;\n  },\n  getSourceParent: function getSourceParent(source) {\n    return source.parentElement;\n  },\n  hasSlot: function hasSlot(source) {\n    return ['UlElement', 'LiElement', 'DivElement', 'FlexContainer'].includes(source.tag);\n  },\n  inlineElement: function inlineElement(source) {\n    return ['TextElement', 'BtnElement'].includes(source.tag);\n  },\n  blockElement: function blockElement(source) {\n    return ['UlElement', 'LiElement', 'DivElement', 'FlexContainer'].includes(source.tag);\n  },\n  isAcceptElement: function isAcceptElement(movingSource, targetSource) {\n    movingSource = currentInstance || movingSource;\n    var mtag = movingSource.tag;\n    var tTag = targetSource.tag;\n\n    if (mtag === 'DivElement' || mtag === 'FlexContainer') {\n      return ['LiElement', 'DivElement', 'FlexContainer'].includes(tTag);\n    }\n\n    if (mtag === 'UlElement') {\n      return ['LiElement', 'DivElement', 'FlexContainer'].includes(tTag);\n    }\n\n    if (mtag === 'LiElement') {\n      return ['UlElement'].includes(tTag);\n    }\n\n    if (mtag === 'TextElement' || mtag === 'BtnElement') {\n      return ['UlElement', 'DivElement', 'LiElement', 'FlexContainer'].includes(tTag);\n    }\n  },\n  draggable: function draggable(source) {\n    return source.tag !== 'FlexContainer';\n  },\n  splitable: function splitable(source) {\n    return source.tag === 'FlexContainer';\n  },\n  getSplitableDiretion: function getSplitableDiretion(source) {\n    return source.props.direction;\n  } // paddingResizable(source) {\n  //     return ['FlexContainer'].includes(source.tag);\n  // },\n  // contentSplit(source) {\n  //     return ['FlexContainer'].includes(source.tag);\n  // }\n\n}; // const indicatorElem = document.createElement('div');\n// indicatorElem.setAttribute('style', 'transform: translateY(-100%);position: absolute;background: #fff;color: #4e75ec;')\n// const textContent = document.createElement('span');\n// indicatorElem.appendChild(textContent);\n// function renderElem(x, y, content) {\n//     indicatorElem.style.left = `${x}px`;\n//     indicatorElem.style.top = `${y}px`;\n//     textContent.innerText = content;\n// }\n// const focusElem = document.createElement('div')\n// focusElem.setAttribute('style', 'transform: translateY(-100%);position: absolute;background: #4e75ec;color: #fff;')\n// const focusContent = document.createElement('span');\n// focusElem.appendChild(focusContent);\n// function renderFocusElem(x, y, content) {\n//     focusElem.style.left = `${x}px`;\n//     focusElem.style.top = `${y}px`;\n//     focusContent.innerText = content;\n// }\n\nfunction SPLITABLE(source) {\n  return ['FlexContainer'].includes(source.tag);\n}\n\nvar frameURL = \"\".concat(window.location.origin).concat(window.location.pathname, \"vueproj.html\"); // const frameURL = 'http://localhost:9003/'\n\nconsole.log(frameURL);\nvar jframeInstance = new _src_core_jframe__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n  frameURL: frameURL,\n  dataElemDescription: dataElemDescription,\n  toolbox: {\n    tools: [new _src_core_jframe__WEBPACK_IMPORTED_MODULE_1__.BlockTitle(), new _src_core_jframe__WEBPACK_IMPORTED_MODULE_1__.BlockSize({\n      editable: function editable(targetBlock) {\n        if (SPLITABLE(targetBlock.source)) {\n          return !targetBlock.source.parentElement;\n        }\n\n        return true;\n      }\n    }), new _src_core_jframe__WEBPACK_IMPORTED_MODULE_1__.BlockAlignment({\n      accept: function accept(source) {\n        if (source.tag === 'FlexContainer') {\n          if (source.children.length > 0 && source.children[0].tag !== 'FlexContainer') {\n            return true;\n          }\n        }\n\n        return false;\n      },\n      onClick: function onClick(targetBlock, propertyName, value) {\n        targetBlock.source.props[propertyName] = value;\n\n        _rerenderJframeInstance();\n      }\n    }), new _src_core_jframe__WEBPACK_IMPORTED_MODULE_1__.BlockDelete({\n      accept: function accept(targetBlock) {\n        return !!targetBlock.source.parentElement;\n      },\n      onClick: function onClick(target) {\n        onDeleteElement(target);\n\n        _rerenderJframeInstance();\n      }\n    }), new _src_core_jframe__WEBPACK_IMPORTED_MODULE_1__.BlockBoxResizer({\n      accept: function accept(targetBlock) {\n        return ['BtnElement'].includes(targetBlock.source.tag);\n      }\n    }), new _src_core_jframe__WEBPACK_IMPORTED_MODULE_1__.BlockBoxSplitter({\n      accept: function accept(source) {\n        return SPLITABLE(source) && source.children.length === 0;\n      },\n      getDirection: function getDirection(targetBlock) {\n        return targetBlock.source.props.direction;\n      }\n    }), new _src_core_jframe__WEBPACK_IMPORTED_MODULE_1__.BlockBoxMargin({\n      accept: function accept(targetBlock) {\n        return SPLITABLE(targetBlock.source);\n      }\n    }), new _src_core_jframe__WEBPACK_IMPORTED_MODULE_1__.BlockBoxContentEditor({\n      accept: function accept(targetBlock) {\n        return targetBlock.source.tag === 'BtnElement';\n      },\n      getContent: function getContent(source) {\n        return source.props.content;\n      },\n      onContentChange: function onContentChange(s, content) {\n        s.props.content = content;\n\n        _rerenderJframeInstance();\n      }\n    })]\n  }\n});\n\nfunction _rerenderJframeInstance() {\n  jframeInstance.postMessage(JSON.stringify({\n    type: 'rerender',\n    elements: [source.toPlainObject()]\n  }));\n  snapshot();\n}\n\nfunction onDeleteElementInSplitable(target) {\n  var sdata = target.source;\n\n  if (sdata.parentElement && SPLITABLE(sdata) && SPLITABLE(sdata.parentElement)) {\n    var parentSource = sdata.parentElement;\n    var dir = parentSource.props.direction;\n    var getBlockBySource = jframeInstance.source_block_element_map.getBlockBySource.bind(jframeInstance.source_block_element_map);\n    var parentBlock = getBlockBySource(parentSource);\n    var idx = parentSource.children.findIndex(function (s) {\n      return s === sdata;\n    });\n\n    if (parentSource.children.length === 2) {\n      var remainElem = parentSource.children[idx === 0 ? 1 : 0];\n      var remainChildren = remainElem.children;\n      var grandParentEle = parentSource.parentElement;\n\n      if (grandParentEle && remainChildren.length > 0) {\n        var _grandParentEle$child;\n\n        var _dir = grandParentEle.props.direction;\n        var grandBlock = getBlockBySource(grandParentEle);\n        var parent_idx = parentSource[\"delete\"]();\n\n        if (_dir === 'row') {\n          remainChildren.forEach(function (c) {\n            var t = getBlockBySource(c).width;\n            c.style.width = \"\".concat(t / grandBlock.width * 100, \"%\");\n            c.parentElement = grandParentEle;\n          });\n        }\n\n        if (_dir === 'column') {\n          remainChildren.forEach(function (c) {\n            var t = getBlockBySource(c).height;\n            c.style.height = \"\".concat(t / grandBlock.height * 100, \"%\");\n            c.parentElement = grandParentEle;\n          });\n        }\n\n        (_grandParentEle$child = grandParentEle.children).splice.apply(_grandParentEle$child, [parent_idx, 0].concat(_toConsumableArray(remainChildren)));\n\n        jframeInstance.addEventListener('afterResize', function () {\n          jframeInstance.setFocusTarget(grandBlock);\n        }, {\n          once: true\n        });\n        return true;\n      } else {\n        remainElem[\"delete\"]();\n        remainChildren.forEach(function (c) {\n          c.parentElement = parentSource;\n          parentSource.children.push(c);\n        });\n        parentSource.props.direction = remainElem.props.direction;\n        jframeInstance.addEventListener('afterResize', function () {\n          jframeInstance.setFocusTarget(parentBlock);\n        }, {\n          once: true\n        });\n        return true;\n      }\n    } else {\n      var prevNode = parentSource.children[idx - 1];\n      var afterNode = parentSource.children[idx + 1];\n      var pw = 0,\n          aw = 0;\n      var wholewidth = target.width;\n      var parentWidth = parentBlock.width;\n\n      if (prevNode) {\n        var prevBlock = getBlockBySource(prevNode);\n        pw = prevBlock.width;\n        wholewidth += prevBlock.width;\n      }\n\n      if (afterNode) {\n        var afterBlock = getBlockBySource(afterNode);\n        aw = afterBlock.width;\n        wholewidth += afterBlock.width;\n      }\n\n      var stylebound;\n\n      if (dir === 'column') {\n        stylebound = 'height';\n      }\n\n      if (dir === 'row') {\n        stylebound = 'width';\n      }\n\n      if (prevNode) {\n        prevNode.style[stylebound] = \"\".concat(pw / (aw + pw) * wholewidth / parentWidth * 100, \"%\");\n      }\n\n      if (afterNode) {\n        afterNode.style[stylebound] = \"\".concat(aw / (aw + pw) * wholewidth / parentWidth * 100, \"%\");\n      }\n\n      jframeInstance.addEventListener('afterResize', function () {\n        jframeInstance.setFocusTarget(parentBlock);\n      }, {\n        once: true\n      });\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction onDeleteElement(target) {\n  var informed = onDeleteElementInSplitable(target);\n  var sdata = target.source;\n  var parentBlock = jframeInstance.source_block_element_map.getBlockBySource(sdata.parentElement);\n  sdata[\"delete\"]();\n\n  if (!informed && parentBlock) {\n    jframeInstance.addEventListener('afterResize', function () {\n      jframeInstance.setFocusTarget(parentBlock);\n    }, {\n      once: true\n    });\n  }\n}\n\njframeInstance.addEventListener('frameloaded', function () {\n  _rerenderJframeInstance();\n});\n/*\njframeInstance.addEventListener('elementHover', (e) => {\n    const { target } = e.detail;\n})\njframeInstance.addEventListener('elementFocus', (e) => {\n    const { target } = e.detail;\n}) */\n\njframeInstance.addEventListener('elementsResized', function (e) {\n  e.detail.elements.forEach(function (e) {\n    var targetBlock = e.targetBlock,\n        source = e.source,\n        width = e.width,\n        height = e.height,\n        marginLeft = e.marginLeft,\n        marginRight = e.marginRight,\n        marginTop = e.marginTop,\n        marginBottom = e.marginBottom;\n\n    if (parseFloat(width) === 0 || parseFloat(height) === 0) {\n      onDeleteElement(targetBlock);\n    } else {\n      if (width !== undefined) {\n        source.style.width = width;\n      }\n\n      if (height !== undefined) {\n        source.style.height = height;\n      }\n\n      if (marginLeft !== undefined) {\n        source.style.marginLeft = marginLeft;\n      }\n\n      if (marginRight !== undefined) {\n        source.style.marginRight = marginRight;\n      }\n\n      if (marginTop !== undefined) {\n        source.style.marginTop = marginTop;\n      }\n\n      if (marginBottom !== undefined) {\n        source.style.marginBottom = marginBottom;\n      }\n    }\n  });\n\n  _rerenderJframeInstance();\n});\njframeInstance.addEventListener('elementdrop', function (e) {\n  var _e$detail = e.detail,\n      sdata = _e$detail.source,\n      childIdx = _e$detail.childIdx,\n      target = _e$detail.target,\n      targetBlock = _e$detail.targetBlock;\n\n  if (target) {\n    if (sdata === target) return; // onDeleteElementInSplitable(targetBlock);\n\n    target[\"delete\"]();\n    sdata.children.splice(childIdx, 0, target);\n    target.parentElement = sdata;\n  } else {\n    if (sdata === currentInstance) return;\n    sdata.children.splice(childIdx, 0, currentInstance);\n    currentInstance.parentElement = sdata;\n  }\n\n  var _c = currentInstance;\n  jframeInstance.addEventListener('afterResize', function () {\n    var block = jframeInstance.source_block_element_map.getBlockBySource(target || _c);\n    jframeInstance.setFocusTarget(block);\n  }, {\n    once: true\n  });\n\n  _rerenderJframeInstance();\n});\njframeInstance.addEventListener('elementSplit', function (e) {\n  var _e$detail2 = e.detail,\n      block = _e$detail2.block,\n      sdata = _e$detail2.source,\n      dir = _e$detail2.dir,\n      splitRatio = _e$detail2.splitRatio;\n  console.log(splitRatio);\n  var children = sdata.children;\n\n  if (sdata.parentElement && SPLITABLE(sdata.parentElement)) {\n    if (sdata.parentElement.props.direction === dir) {\n      // 与父级同侧，父级切分\n      var parentBlock = jframeInstance.source_block_element_map.getBlockBySource(sdata.parentElement);\n      var parentElement = sdata.parentElement;\n      var c = new Elem({\n        concept: 'ViewElement',\n        tag: 'FlexContainer'\n      });\n      var idx = parentElement.children.findIndex(function (e) {\n        return e === sdata;\n      });\n      parentElement.children.splice(idx, 0, c);\n      c.parentElement = parentElement;\n\n      if (dir === 'column') {\n        var r = block.height / parentBlock.height;\n        c.style.height = \"\".concat(r * splitRatio * 100, \"%\");\n        c.style.width = '100%';\n        sdata.style.height = \"\".concat(r * (1 - splitRatio) * 100, \"%\");\n      } else if (dir === 'row') {\n        var _r = block.width / parentBlock.width; // const w = block.width / 2 / parentBlock.width * 100;\n\n\n        c.style.width = \"\".concat(_r * splitRatio * 100, \"%\");\n        c.style.height = '100%';\n        sdata.style.width = \"\".concat(_r * (1 - splitRatio) * 100, \"%\");\n      }\n\n      jframeInstance.addEventListener('afterResize', function () {\n        jframeInstance.setFocusTarget(parentBlock);\n      }, {\n        once: true\n      });\n\n      _rerenderJframeInstance();\n\n      return;\n    }\n  } // 自身切分\n\n\n  sdata.props.direction = dir;\n  var c1 = new Elem({\n    concept: 'ViewElement',\n    tag: 'FlexContainer'\n  });\n  var c2 = new Elem({\n    concept: 'ViewElement',\n    tag: 'FlexContainer'\n  });\n\n  if (dir === 'column') {\n    c1.style.height = \"\".concat(splitRatio * 100, \"%\");\n    c2.style.height = \"\".concat(100 - splitRatio * 100, \"%\");\n    c1.style.width = '100%';\n    c2.style.width = '100%';\n  } else if (dir === 'row') {\n    c1.style.width = \"\".concat(splitRatio * 100, \"%\");\n    c2.style.width = \"\".concat(100 - splitRatio * 100, \"%\");\n    c1.style.height = '100%';\n    c2.style.height = '100%';\n  }\n\n  sdata.children = [];\n  sdata.children.push(c1);\n  c1.parentElement = sdata;\n  sdata.children.push(c2);\n  c2.parentElement = sdata;\n\n  if (children.length) {\n    children.forEach(function (d) {\n      c1.children.push(d);\n      d.parentElement = c1;\n    });\n  } // block.setSplit(true);\n\n\n  _rerenderJframeInstance();\n});\njframeInstance.$mount(app);\n\nfunction dragstart(elem) {\n  // jframeInstance.sendMessage({ \n  //     instance: elem,\n  // });\n  currentInstance = elem;\n}\n\nvar DivElementTool = document.getElementById('DivElement');\nvar UlElementTool = document.getElementById('UlElement');\nvar LiElementTool = document.getElementById('LiElement');\nvar TextElementTool = document.getElementById('TextElement');\nvar ButtonElementTool = document.getElementById('ButtonElement');\nDivElementTool.addEventListener('dragstart', function () {\n  dragstart(new Elem({\n    concept: 'ViewElement',\n    tag: 'DivElement'\n  }));\n});\nDivElementTool.addEventListener('dragend', function () {\n  currentInstance = null;\n});\nUlElementTool.addEventListener('dragstart', function () {\n  dragstart(new Elem({\n    concept: 'ViewElement',\n    tag: 'UlElement'\n  }));\n});\nUlElementTool.addEventListener('dragend', function () {\n  currentInstance = null;\n});\nLiElementTool.addEventListener('dragstart', function () {\n  dragstart(new Elem({\n    concept: 'ViewElement',\n    tag: 'LiElement'\n  }));\n});\nLiElementTool.addEventListener('dragend', function () {\n  currentInstance = null;\n});\nTextElementTool.addEventListener('dragstart', function () {\n  dragstart(new Elem({\n    concept: 'ViewElement',\n    tag: 'TextElement',\n    props: {\n      content: \"xxxx\"\n    }\n  }));\n});\nTextElementTool.addEventListener('dragend', function () {\n  currentInstance = null;\n});\nButtonElementTool.addEventListener('dragstart', function () {\n  dragstart(new Elem({\n    concept: 'ViewElement',\n    tag: 'BtnElement',\n    props: {\n      content: \"按钮\"\n    }\n  }));\n});\nButtonElementTool.addEventListener('dragend', function () {\n  currentInstance = null;\n});\n\n//# sourceURL=webpack://pure/./index.js?");

/***/ }),

/***/ "../../src/core/block.js":
/*!*******************************!*\
  !*** ../../src/core/block.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _splitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./splitter */ \"../../src/core/splitter.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\nvar uuid = 0;\n\nvar Block = /*#__PURE__*/function (_EventTarget) {\n  _inherits(Block, _EventTarget);\n\n  var _super = _createSuper(Block);\n\n  function Block(source, jframe, targetDoc, targetWapper) {\n    var _this;\n\n    var bounding = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n\n    _classCallCheck(this, Block);\n\n    _this = _super.call(this);\n    _this.id = uuid++;\n    _this.source = source;\n    _this.x = bounding.x;\n    _this.y = bounding.y;\n    _this.width = bounding.width;\n    _this.height = bounding.height;\n    _this.targetDoc = targetDoc;\n    _this.targetWapper = targetWapper;\n    _this.jframe = jframe;\n    _this._level = 0; // 当前块的深度\n\n    var elem = targetDoc.createElement('div');\n    elem.setAttribute('draggable', _this.jframe.dataElemDescription.draggable(_this.source));\n    elem.setAttribute('class', 'jframe-block');\n    _this.elem = elem;\n    _this.splitLines = [];\n    _this._hoverEnable = true;\n    _this.tools = [];\n\n    var _this$renderBoundsInd = _this.renderBoundsIndicator(),\n        indicator = _this$renderBoundsInd.indicator,\n        indicatorNumber = _this$renderBoundsInd.indicatorNumber;\n\n    Object.assign(_assertThisInitialized(_this), {\n      indicator: indicator,\n      indicatorNumber: indicatorNumber\n    });\n\n    _this.elem.appendChild(indicator);\n\n    _this.bindListeners();\n\n    return _this;\n  }\n\n  _createClass(Block, [{\n    key: \"isFocus\",\n    get: function get() {\n      return this.jframe.state.focusTarget === this;\n    } // toggleMarginBarRectVisible(val, dir) {\n    //     if(val) {\n    //         this.lockVisible(true);\n    //         this[`marginBarRect${dir}`].setAttribute('visible', true);\n    //     } else {\n    //         this.lockVisible(false);\n    //         this[`marginBarRect${dir}`].removeAttribute('visible');\n    //     }\n    // }\n\n  }, {\n    key: \"lockVisible\",\n    value: function lockVisible(val) {\n      this.processingMarginRectVisible = val;\n    }\n  }, {\n    key: \"registTool\",\n    value: function registTool(tool) {\n      this.tools.push(tool);\n    }\n  }, {\n    key: \"toggleTools\",\n    value: function toggleTools(val) {\n      if (val) {} else {\n        this.tools.forEach(function (t) {\n          t.destroy();\n        });\n      }\n    }\n  }, {\n    key: \"toggleHoverEnable\",\n    value: function toggleHoverEnable(val) {\n      this._hoverEnable = val;\n    }\n  }, {\n    key: \"bindListeners\",\n    value: function bindListeners() {\n      var _this2 = this;\n\n      this.elem.addEventListener('mouseenter', function (e) {\n        if (_this2._hoverEnable) {\n          _this2.jframe.setHoverTarget(_this2);\n        }\n      });\n      this.elem.addEventListener('mouseleave', function (e) {\n        if (_this2._hoverEnable) {\n          _this2.jframe.resetHoverTarget(_this2);\n        }\n      }); // this.elem.addEventListener('mousemove', e => {\n      //     e.stopPropagation();\n      //     console.log(e.offsetX, e.offsetY);\n      //     this.jframe.getActiveFence([e.offsetX, e.offsetY], this);\n      // })\n\n      this.elem.addEventListener('click', function (e) {\n        e.stopPropagation();\n        console.log(_this2);\n\n        _this2.jframe.setFocusTarget(_this2);\n      });\n      this.elem.addEventListener('dragstart', function (e) {\n        _this2.setDragging(true);\n\n        console.log('dragstart');\n\n        _this2.jframe.setMovingTarget(_this2);\n      });\n      this.elem.addEventListener('dragend', function () {\n        _this2.setDragging(false);\n      });\n    }\n  }, {\n    key: \"setDragging\",\n    value: function setDragging(val) {\n      if (val) {\n        this.elem.setAttribute('dragging', val);\n      } else {\n        this.elem.removeAttribute('dragging');\n      }\n    }\n  }, {\n    key: \"setHover\",\n    value: function setHover(val) {\n      if (val) {\n        this.elem.setAttribute('hover', val);\n      } else {\n        this.elem.removeAttribute('hover');\n      }\n    }\n  }, {\n    key: \"setFocus\",\n    value: function setFocus(val) {\n      if (val) {\n        this.elem.setAttribute('focus', val);\n      } else {\n        this.elem.removeAttribute('focus');\n      }\n    }\n  }, {\n    key: \"setAcceptElem\",\n    value: function setAcceptElem(val) {\n      if (val) {\n        this.elem.setAttribute('accept', val);\n      } else {\n        this.elem.removeAttribute('accept');\n      }\n    }\n  }, {\n    key: \"setBounding\",\n    value: function setBounding() {\n      var bounding = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      Object.assign(this, {\n        x: bounding.left,\n        y: bounding.top,\n        width: bounding.width,\n        height: bounding.height\n      });\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(styleSheet) {\n      Object.assign(this, {\n        marginLeft: parseFloat(styleSheet.marginLeft),\n        marginRight: parseFloat(styleSheet.marginRight),\n        marginTop: parseFloat(styleSheet.marginTop),\n        marginBottom: parseFloat(styleSheet.marginBottom)\n      });\n    }\n  }, {\n    key: \"setLevel\",\n    value: function setLevel(level) {\n      this._level = level;\n      this.elem.style['z-index'] = level;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (!this.elem.parentElement) {\n        this.targetWapper.appendChild(this.elem);\n      }\n\n      this.elem.style.left = \"\".concat(this.x, \"px\");\n      this.elem.style.top = \"\".concat(this.y, \"px\");\n      this.elem.style.width = \"\".concat(this.width, \"px\");\n      this.elem.style.height = \"\".concat(this.height, \"px\"); // this.renderMargin();\n\n      this.tools.forEach(function (tool) {\n        tool.render(_this3);\n      });\n      this.renderSplitLines();\n    }\n  }, {\n    key: \"renderSplitLines\",\n    value: function renderSplitLines() {\n      var jframe = this.jframe;\n      var source = this.source;\n\n      if (!jframe.dataElemDescription.splitable(source)) {\n        return;\n      }\n\n      var dir = jframe.dataElemDescription.getSplitableDiretion(source);\n      var idx = 0;\n      var reduce = 0;\n      var lidx = 0;\n      var children = jframe.dataElemDescription.getSourceChildren(source);\n\n      var _blocks = children.map(function (c) {\n        return jframe.source_block_element_map.getBlockBySource(c);\n      });\n\n      while (idx < children.length) {\n        var pre = children[idx];\n\n        if (idx < children.length - 1) {\n          var after = children[idx + 1];\n          var preblock = jframe.source_block_element_map.getBlockBySource(pre);\n          var afterblock = jframe.source_block_element_map.getBlockBySource(after);\n\n          if (dir === 'row') {\n            reduce += preblock.width + preblock.marginLeft + preblock.marginRight;\n          }\n\n          if (dir === 'column') {\n            reduce += preblock.height + preblock.marginTop + preblock.marginBottom;\n          }\n\n          var splitter = this.splitLines[idx];\n\n          if (!splitter) {\n            splitter = new _splitter__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this);\n            this.splitLines[idx] = splitter;\n            splitter.attach(jframe.IFM.jframeTool);\n          }\n\n          lidx++;\n          splitter.setProps(dir, reduce, preblock, afterblock, _blocks.slice());\n        }\n\n        idx++;\n      }\n\n      var l = this.splitLines.length;\n\n      while (lidx < l) {\n        this.splitLines[lidx].destroy();\n        lidx++;\n      }\n    }\n  }, {\n    key: \"renderBoundsIndicator\",\n    value: function renderBoundsIndicator() {\n      var indicator = document.createElement('div');\n      indicator.setAttribute('class', 'jframe-block-indicator');\n      indicator.style.display = 'none';\n      var indicatorNumber = document.createElement('div');\n      indicatorNumber.setAttribute('class', 'jframe-block-indicator-number');\n      indicator.appendChild(indicatorNumber);\n      return {\n        indicator: indicator,\n        indicatorNumber: indicatorNumber\n      };\n    }\n  }, {\n    key: \"toggleIndicator\",\n    value: function toggleIndicator(val, dir, point, whole, partRatio) {\n      var indicator = this.indicator,\n          indicatorNumber = this.indicatorNumber;\n\n      if (val) {\n        if (dir === 'row') {\n          Object.assign(indicator.style, {\n            width: this.width + 'px',\n            height: 0,\n            display: 'block',\n            transform: \"translate(0px, \".concat(point[1] - this.y, \"px)\")\n          });\n          Object.assign(indicatorNumber.style, {\n            top: 0,\n            left: '50%'\n          });\n        }\n\n        if (dir === 'column') {\n          Object.assign(indicator.style, {\n            width: 0,\n            height: this.height + 'px',\n            display: 'block',\n            transform: \"translate(\".concat(point[0] - this.x, \"px, 0px)\")\n          });\n          Object.assign(indicatorNumber.style, {\n            top: '50%',\n            left: 0\n          });\n        }\n\n        var str = \"\".concat(Math.round(this.width / whole * 100), \"%(\").concat(Math.round(this.width), \"px)\");\n\n        if (partRatio !== undefined) {\n          str += \"(\".concat(Math.round(partRatio * 100), \"%)\");\n        }\n\n        indicatorNumber.innerText = str;\n      } else {\n        indicator.style.display = 'none';\n      }\n    }\n  }, {\n    key: \"isHit\",\n    value: function isHit(point) {\n      var x = this.x;\n      var y = this.y;\n      var w = this.width;\n      var h = this.height;\n      return point[0] >= x && point[0] <= x + w && point[1] >= y && point[1] <= y + h;\n    }\n  }, {\n    key: \"isHitInner\",\n    value: function isHitInner(point) {\n      var x = this.x + 4;\n      var y = this.y + 4;\n      var w = this.width - 8;\n      var h = this.height - 8;\n      return point[0] > x && point[0] < x + w && point[1] > y && point[1] < y + h;\n    }\n  }, {\n    key: \"getHorizontalSegments\",\n    value: function getHorizontalSegments() {\n      var cx = this.x + this.width;\n      var cy = this.y + this.height;\n      var x = this.x,\n          y = this.y;\n      return [[{\n        x: x,\n        y: y\n      }, {\n        x: cx,\n        y: y\n      }], [{\n        x: x,\n        y: cy\n      }, {\n        x: cx,\n        y: cy\n      }]];\n    }\n  }, {\n    key: \"getVerticalSegments\",\n    value: function getVerticalSegments() {\n      var cx = this.x + this.width;\n      var cy = this.y + this.height;\n      var x = this.x,\n          y = this.y;\n      return [[{\n        x: x,\n        y: y\n      }, {\n        x: x,\n        y: cy\n      }], [{\n        x: cx,\n        y: y\n      }, {\n        x: cx,\n        y: cy\n      }]];\n    }\n  }, {\n    key: \"observe\",\n    value: function observe(elem, callback) {\n      if (this._observer) {\n        this._observer.observe(elem, {\n          childList: true,\n          attributes: true,\n          subtree: true\n        });\n      } else {\n        var observer = this.addObserve(elem, callback);\n        this._observer = observer;\n      }\n    }\n  }, {\n    key: \"stopObserve\",\n    value: function stopObserve() {\n      this._observer.disconnect();\n    }\n  }, {\n    key: \"addObserve\",\n    value: function addObserve(elem, callback) {\n      var observer = new MutationObserver(callback);\n      observer.observe(elem, {\n        childList: true,\n        attributes: true,\n        subtree: true\n      });\n      return observer;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._observer.disconnect();\n\n      this.source = null;\n      this.splitLines.forEach(function (l) {\n        l.destroy();\n      });\n      this.elem.remove();\n    }\n  }]);\n\n  return Block;\n}( /*#__PURE__*/_wrapNativeSuper(EventTarget));\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Block);\n\n//# sourceURL=webpack://pure/../../src/core/block.js?");

/***/ }),

/***/ "../../src/core/event/event.js":
/*!*************************************!*\
  !*** ../../src/core/event/event.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar JFrameEvent = /*#__PURE__*/function (_CustomEvent) {\n  _inherits(JFrameEvent, _CustomEvent);\n\n  var _super = _createSuper(JFrameEvent);\n\n  function JFrameEvent(event) {\n    var configs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, JFrameEvent);\n\n    var detail = _objectSpread(_objectSpread({}, configs), {}, {\n      originEvent: configs.event,\n      target: configs.target\n    });\n\n    return _super.call(this, event, {\n      detail: detail\n    });\n  }\n\n  return _createClass(JFrameEvent);\n}( /*#__PURE__*/_wrapNativeSuper(CustomEvent));\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (JFrameEvent);\n\n//# sourceURL=webpack://pure/../../src/core/event/event.js?");

/***/ }),

/***/ "../../src/core/iframe-manager.js":
/*!****************************************!*\
  !*** ../../src/core/iframe-manager.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar IFrameManager = /*#__PURE__*/function () {\n  function IFrameManager(dom) {\n    var configs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, IFrameManager);\n\n    var wrapper = document.createElement('div');\n    wrapper.setAttribute('style', \"\\n            position: relative;\\n            width: 100%;\\n            height: 100%;\\n            background-color: #fff;\\n            left:0;\\n            top:0;\\n            user-select: none;\\n            overflow:hidden;\\n            background: rgba(0,0,0,0.1);\\n            \");\n    var iframe = document.createElement('iframe');\n    iframe.setAttribute('style', \"\\n            position: absolute;\\n            top:0;\\n            left: 0;\\n            transform-origin: top left;\\n            width: 100%;\\n            overflow: hidden;\\n            border: 2px solid transparent;\\n            background: #fff;\\n            user-select: none;\");\n    iframe.setAttribute('scrolling', \"no\");\n    var overLayer = document.createElement('div');\n    overLayer.setAttribute('class', 'jframe-overlayer');\n    dom.setAttribute(\"style\", \"\\n            position: relative;\\n            background-color: #fff;\\n            overflow: hidden\\n            user-select: none;\");\n    var mask = document.createElement('div');\n    mask.setAttribute('style', \"\\n            position: absolute;\\n            top: -10px;\\n            bottom:-10px;\\n            left:-10px;\\n            right:-10px;\\n            user-select: none;\");\n    var fence = document.createElement('div');\n    fence.setAttribute('class', 'jframe-fence');\n    var toolbox = document.createElement('div');\n    toolbox.setAttribute('class', 'jframe-toolbox');\n    var blockTool = document.createElement('div');\n    blockTool.setAttribute('class', 'jframe-blocktool');\n    var jframeTool = document.createElement('div');\n    jframeTool.setAttribute('class', 'jframe-frametool');\n    overLayer.appendChild(fence);\n    overLayer.appendChild(mask);\n    overLayer.appendChild(toolbox);\n    overLayer.appendChild(blockTool);\n    overLayer.appendChild(jframeTool);\n    wrapper.appendChild(iframe);\n    wrapper.appendChild(overLayer); // const {\n    //     hoverIndicator,\n    //     focusIndicator\n    // } = configs;\n    // if(hoverIndicator) {\n    //     hoverIndicator.style.display = 'none';\n    //     overLayer.appendChild(hoverIndicator);\n    // }\n    // if(focusIndicator) {\n    //     focusIndicator.style.display = 'none';\n    //     overLayer.appendChild(focusIndicator);\n    // }\n\n    dom.appendChild(wrapper);\n    this.iframe = iframe;\n    this.overLayer = overLayer;\n    this.dom = dom;\n    this.wrapper = wrapper;\n    this.fence = fence;\n    this.toolbox = toolbox;\n    this.blockTool = blockTool;\n    this.jframeTool = jframeTool; // this.blockToolFragment = blockToolFragment;\n    // this.hoverIndicator = hoverIndicator;\n    // this.focusIndicator = focusIndicator;\n  }\n\n  _createClass(IFrameManager, [{\n    key: \"renderHorizontalFence\",\n    value: function renderHorizontalFence(tx, ty, width) {\n      this.fence.style.display = 'block';\n      this.fence.style.transition = \"width .3s, transform .3s\";\n      this.fence.style.transform = \"translate(\".concat(tx, \"px, \").concat(ty, \"px)\");\n      this.fence.style.height = '0px';\n      this.fence.style.width = \"\".concat(width, \"px\");\n    }\n  }, {\n    key: \"renderVerticalFence\",\n    value: function renderVerticalFence(tx, ty, height) {\n      this.fence.style.display = 'block';\n      this.fence.style.transition = \"height .3s, transform .3s\";\n      this.fence.style.transform = \"translate(\".concat(tx, \"px, \").concat(ty, \"px)\");\n      this.fence.style.height = \"\".concat(height, \"px\");\n      this.fence.style.width = \"0px\";\n    }\n  }, {\n    key: \"hideClosestFence\",\n    value: function hideClosestFence() {\n      this.fence.style.display = 'none';\n    }\n  }, {\n    key: \"setFenceAccept\",\n    value: function setFenceAccept(val) {\n      if (val) {\n        this.fence.setAttribute('accept', val);\n      } else {\n        this.fence.removeAttribute('accept');\n      }\n    }\n  }, {\n    key: \"refreshToolWrapper\",\n    value: function refreshToolWrapper(block) {\n      var x = block.x,\n          y = block.y;\n      this.toolbox.style.left = \"\".concat(x, \"px\");\n      this.toolbox.style.top = \"\".concat(y, \"px\");\n      this.blockTool.style.left = \"\".concat(x, \"px\");\n      this.blockTool.style.top = \"\".concat(y, \"px\");\n    }\n  }, {\n    key: \"toggleTools\",\n    value: function toggleTools(val, block) {\n      if (val) {\n        var x = block.x,\n            y = block.y;\n        this.toolbox.style.left = \"\".concat(x, \"px\");\n        this.toolbox.style.top = \"\".concat(y, \"px\");\n        this.blockTool.style.left = \"\".concat(x, \"px\");\n        this.blockTool.style.top = \"\".concat(y, \"px\");\n        this.toolbox.style.display = 'block';\n        this.blockTool.style.display = 'block';\n      } else {\n        this.toolbox.style.display = 'none';\n        this.blockTool.style.display = 'none';\n      }\n\n      this.toolbox.innerHTML = '';\n      this.blockTool.innerHTML = '';\n    } // toggleHoverIndicator(state) {\n    //     if(this.hoverIndicator){\n    //         this.hoverIndicator.style.display = state ? 'block' : 'none';\n    //     }\n    // }\n    // toggleHoverIndicator(state) {\n    //     if(this.hoverIndicator){\n    //         this.hoverIndicator.style.display = state ? 'block' : 'none';\n    //     }\n    // }\n\n    /* resetFrameBoundrary(){\n        const innerDoc = this.iframe.contentWindow.document;\n        const body = innerDoc.body;\n        const html = innerDoc.documentElement;\n        const height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n        const width = Math.max(body.scrollWidth, body.offsetWidth, html.clientWidth, html.scrollWidth, html.offsetWidth);\n        this.iframe.style.height = height + 'px';\n        this.iframe.style.width = width + 'px';\n        this.overLayer.style.height = height + 'px';\n        this.overLayer.style.width = width +'px';\n    }\n     resetFrameVerticalBoundrary() {\n        const innerDoc = this.iframe.contentWindow.document;\n        const body = innerDoc.body;\n        const html = innerDoc.documentElement;\n        const height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n        this.iframe.style.height = height + 'px';\n        this.overLayer.style.height = height + 'px';\n    } */\n    // resetFrameHorizontalBoundrary() {\n    //     const innerDoc = this.iframe.contentWindow.document;\n    //     const body = innerDoc.body;\n    //     const html = innerDoc.documentElement;\n    //     const width = Math.max(body.scrollWidth, body.offsetWidth, html.clientWidth, html.scrollWidth, html.offsetWidth);\n    //     this.iframe.style.width = width + 'px';\n    //     this.overLayer.style.width = width +'px';\n    // }\n    // resetFrameVerticalBoundrary() {\n    //     const innerDoc = this.iframe.contentWindow.document;\n    //     const body = innerDoc.body;\n    //     const html = innerDoc.documentElement;\n    //     const height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n    //     this.iframe.style.height = height + 'px';\n    //     this.overLayer.style.height = height + 'px';\n    // }\n\n  }, {\n    key: \"observe\",\n    value: function observe(rootElem) {\n      var _this = this;\n\n      var observer = new ResizeObserver(function () {\n        var bounding = rootElem.getBoundingClientRect();\n        var styleSheet = window.getComputedStyle(rootElem);\n        var w = bounding.width + (parseFloat(styleSheet.marginLeft) || 0) + (parseFloat(styleSheet.marginRight) || 0);\n        var h = bounding.height + (parseFloat(styleSheet.marginBottom) || 0) + (parseFloat(styleSheet.marginTop) || 0);\n\n        _this.resetFrameHorizontalBoundrary(w);\n\n        _this.resetFrameVerticalBoundrary(h);\n      });\n      observer.observe(rootElem);\n      this._observer = observer;\n    }\n  }, {\n    key: \"resetFrameHorizontalBoundrary\",\n    value: function resetFrameHorizontalBoundrary(width) {\n      this.iframe.style.width = width + 'px';\n      this.overLayer.style.width = width + 'px';\n    }\n  }, {\n    key: \"resetFrameVerticalBoundrary\",\n    value: function resetFrameVerticalBoundrary(height) {\n      this.iframe.style.height = height + 'px';\n      this.overLayer.style.height = height + 'px';\n    }\n  }, {\n    key: \"querySelector\",\n    value: function querySelector(selector) {\n      return this.iframe.contentDocument.querySelector(selector);\n    }\n  }, {\n    key: \"postMessage\",\n    value: function postMessage(message, url) {\n      this.iframe.contentWindow.postMessage(message, this.frameURL);\n    }\n  }, {\n    key: \"domClientRect\",\n    get: function get() {\n      return this.dom.getBoundingClientRect();\n    }\n  }, {\n    key: \"toggleBlockHoverStyle\",\n    value: function toggleBlockHoverStyle(val) {\n      this.overLayer.setAttribute('disablehover', val);\n    }\n  }]);\n\n  return IFrameManager;\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (IFrameManager);\n\n//# sourceURL=webpack://pure/../../src/core/iframe-manager.js?");

/***/ }),

/***/ "../../src/core/jframe.js":
/*!********************************!*\
  !*** ../../src/core/jframe.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BlockAlignment\": () => (/* reexport safe */ _toolbox_index__WEBPACK_IMPORTED_MODULE_5__.BlockAlignment),\n/* harmony export */   \"BlockBoxContentEditor\": () => (/* reexport safe */ _toolbox_index__WEBPACK_IMPORTED_MODULE_5__.BlockBoxContentEditor),\n/* harmony export */   \"BlockBoxMargin\": () => (/* reexport safe */ _toolbox_index__WEBPACK_IMPORTED_MODULE_5__.BlockBoxMargin),\n/* harmony export */   \"BlockBoxResizer\": () => (/* reexport safe */ _toolbox_index__WEBPACK_IMPORTED_MODULE_5__.BlockBoxResizer),\n/* harmony export */   \"BlockBoxSplitter\": () => (/* reexport safe */ _toolbox_index__WEBPACK_IMPORTED_MODULE_5__.BlockBoxSplitter),\n/* harmony export */   \"BlockDelete\": () => (/* reexport safe */ _toolbox_index__WEBPACK_IMPORTED_MODULE_5__.BlockDelete),\n/* harmony export */   \"BlockSize\": () => (/* reexport safe */ _toolbox_index__WEBPACK_IMPORTED_MODULE_5__.BlockSize),\n/* harmony export */   \"BlockTitle\": () => (/* reexport safe */ _toolbox_index__WEBPACK_IMPORTED_MODULE_5__.BlockTitle),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _event_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./event/event */ \"../../src/core/event/event.js\");\n/* harmony import */ var _utils_functions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/functions */ \"../../src/utils/functions.js\");\n/* harmony import */ var _sourceBlockElementMap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sourceBlockElementMap */ \"../../src/core/sourceBlockElementMap.js\");\n/* harmony import */ var _block__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./block */ \"../../src/core/block.js\");\n/* harmony import */ var _iframe_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./iframe-manager */ \"../../src/core/iframe-manager.js\");\n/* harmony import */ var _toolbox_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./toolbox/index */ \"../../src/core/toolbox/index.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n// import Messager from '../message/messager';\n\n\n\n\n // import ScrollBarMixin from './mixins/scrollbarMixin';\n\nvar JFrame = /*#__PURE__*/function (_EventTarget) {\n  _inherits(JFrame, _EventTarget);\n\n  var _super = _createSuper(JFrame);\n\n  function JFrame(configs) {\n    var _this;\n\n    _classCallCheck(this, JFrame);\n\n    _this = _super.call(this);\n    _this.frameURL = configs.frameURL;\n    _this.initialZoom = configs.initialZoom;\n    _this.padding = configs.padding || 20;\n    _this.maxZoom = configs.maxZoom || 2;\n    _this.minZoom = configs.minZoom || .5;\n    _this.dataElemDescription = configs.dataElemDescription;\n    _this.toolbox = configs.toolbox; // this.source = configs.source;\n    // this.frameBoundingRect = { width: 0, height: 0 };\n\n    _this.position = {\n      x: 0,\n      y: 0,\n      offsetX: 0,\n      offsetY: 0\n    };\n    _this.scale = 1;\n    _this.domMeta = {\n      x: 0,\n      y: 0\n    };\n    _this.source_block_element_map = new _sourceBlockElementMap__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    _this.state = {\n      hoverTarget: null,\n      focusTarget: null,\n      dragoverTarget: null,\n      dragoverTargetWrapper: null,\n      fenceTarget: null,\n      movingTarget: null\n    };\n    _this.blockList = {\n      old: [],\n      current: []\n    };\n    _this.__clock__ = undefined;\n    return _this;\n  }\n\n  _createClass(JFrame, [{\n    key: \"$mount\",\n    value: function $mount(dom, configs) {\n      var _this2 = this;\n\n      this.IFM = new _iframe_manager__WEBPACK_IMPORTED_MODULE_4__[\"default\"](dom, configs); // const messager = new Messager(iframe)\n      // resize的时候需要重算\n\n      this.calculateDomMeta(); // const { x, y } = dom.getBoundingClientRect();\n\n      this.IFM.wrapper.addEventListener('wheel', function (event) {\n        event.preventDefault();\n        var deltaX = event.deltaX,\n            deltaY = event.deltaY;\n\n        var _this2$resolveEventOf = _this2.resolveEventOffset(event),\n            offsetX = _this2$resolveEventOf.offsetX,\n            offsetY = _this2$resolveEventOf.offsetY;\n\n        if (event.ctrlKey) {\n          deltaY = -deltaY;\n\n          _this2.zoomHandler(offsetX, offsetY, deltaX, deltaY, event);\n        } else {\n          _this2.panHandler(-deltaX, -deltaY, event);\n        }\n      }); // wrapper.addEventListener('mousemove', (event) => {\n      //     this.blockList.current.\n      // })\n\n      this.IFM.dom.addEventListener('click', function (e) {\n        console.log(e);\n        var overLayer = _this2.IFM.overLayer;\n\n        if (!e.path.includes(overLayer)) {\n          _this2.setFocusTarget(null);\n        }\n      });\n      /* let dragging;\n      this.dom.addEventListener('mousemove', e => {\n          const { offsetX, offsetY } = this.resolveEventOffset(e);\n          // console.log(offsetX, offsetY);\n          const point = this.calculateToIframeCoordinate(offsetX, offsetY);\n          let blockMax = null;\n          let clevel = 0;\n          console.log(point)\n          this.blockList.current.forEach(b => {\n              const hit = b.isHit(point);\n              if(hit && clevel <= b._level ) {\n                  blockMax = b;\n                  clevel = b._level;\n              }\n          });\n          if(dragging) {\n              dragging.setDragging(false);\n          }\n          if(blockMax) {\n              const isInnerHitted = blockMax.isHitInner(point);\n              const hasslot = this.dataElemDescription.hasSlot(blockMax.source);\n              const wrapperSource = this.dataElemDescription.getSourceParent(blockMax.source);\n              if(hasslot && isInnerHitted || !wrapperSource) {\n                  blockMax.setDragging(true);\n                  dragging = blockMax;\n              } else {             \n                  const wrapperBlock = this.source_block_element_map.getBlockBySource(wrapperSource);\n                  wrapperBlock.setDragging(true);\n                  dragging = wrapperBlock;\n              }\n          }\n      }) */\n\n      this.IFM.dom.addEventListener('dragover', function (e) {\n        e.preventDefault();\n\n        var _this2$resolveEventOf2 = _this2.resolveEventOffset(e),\n            offsetX = _this2$resolveEventOf2.offsetX,\n            offsetY = _this2$resolveEventOf2.offsetY;\n\n        var point = _this2.calculateToIframeCoordinate(offsetX, offsetY);\n\n        var blockMax = null;\n        var clevel = 0;\n\n        _this2.blockList.current.forEach(function (b) {\n          var hit = b.isHit(point);\n\n          if (hit && clevel <= b._level) {\n            blockMax = b;\n            clevel = b._level;\n          }\n        });\n\n        if (blockMax) {\n          var isInnerHitted = blockMax.isHitInner(point);\n\n          var hasslot = _this2.dataElemDescription.hasSlot(blockMax.source);\n\n          var wrapperSource = _this2.dataElemDescription.getSourceParent(blockMax.source);\n\n          if (hasslot && isInnerHitted || !wrapperSource) {\n            _this2.setDragoverWrapperTarget(blockMax);\n\n            _this2.renderChildClosestFence(point, blockMax);\n          } else {\n            var wrapperBlock = _this2.source_block_element_map.getBlockBySource(wrapperSource);\n\n            _this2.setDragoverWrapperTarget(wrapperBlock);\n\n            _this2.renderClosestFence(point, blockMax, wrapperSource);\n          }\n        } else {\n          _this2.setDragoverWrapperTarget(null);\n\n          _this2.IFM.hideClosestFence();\n        }\n      });\n      this.IFM.dom.addEventListener('drop', function (event) {\n        if (_this2.fenceTarget) {\n          var _this2$fenceTarget = _this2.fenceTarget,\n              source = _this2$fenceTarget.source,\n              childIdx = _this2$fenceTarget.childIdx,\n              accept = _this2$fenceTarget.accept;\n\n          var target = _this2.getMovingTarget(); // if(target) {\n          //     target.setDragging(false);\n          // }\n\n\n          if (accept) {\n            _this2.dispatchEvent(new _event_event__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('elementdrop', {\n              event: event,\n              // instance,\n              targetBlock: target,\n              target: target === null || target === void 0 ? void 0 : target.source,\n              jframe: _this2,\n              source: source,\n              childIdx: childIdx\n            }));\n          }\n        }\n\n        _this2.fenceTarget = null;\n\n        _this2.setDragoverWrapperTarget(null);\n\n        _this2.IFM.hideClosestFence();\n\n        _this2.setMovingTarget(null);\n      }); // dom.addEventListener('click', (event) => {\n      //     event.preventDefault();\n      //     const { offsetX, offsetY } = this.resolveEventOffset(event);\n      //     const point = this.calculateToIframeCoordinate(offsetX, offsetY);\n      //     const message = JSON.stringify({\n      //         event: 'click',\n      //         point,\n      //     })\n      //     this.iframe.contentWindow.postMessage(message, this.frameURL);\n      // })\n\n      this.IFM.iframe.onload = function (event) {\n        // const resetFrameBounding = new ResizeObserver(this.scheduleObserver.bind(this));\n        // resetFrameBounding.observe(rootElem);\n        // this.resizeObserver();\n        // this.IFM.resetFrameHorizontalBoundrary();\n        var resetFrameBounding = new ResizeObserver(_this2.scheduleObserver.bind(_this2));\n        resetFrameBounding.observe(_this2.IFM.iframe.contentWindow.document.body);\n\n        _this2.dispatchEvent(new _event_event__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('frameloaded', {\n          event: event,\n          target: _this2.iframe\n        }));\n      };\n\n      this.IFM.iframe.setAttribute(\"src\", this.frameURL);\n    }\n  }, {\n    key: \"calculateDomMeta\",\n    value: function calculateDomMeta() {\n      var meta = this.IFM.domClientRect;\n      this.domMeta = {\n        x: meta.x,\n        y: meta.y\n      };\n    }\n  }, {\n    key: \"scheduleObserver\",\n    value: function scheduleObserver() {\n      var _this3 = this;\n\n      requestAnimationFrame(function (timestamp) {\n        var isFirstTime = _this3.__clock__ !== timestamp;\n\n        if (isFirstTime) {\n          _this3.resizeObserver();\n        } // console.log(callback)\n        // if(callback) {\n        //     callback(timestamp);\n        // }\n\n\n        _this3.__clock__ = timestamp;\n      });\n    }\n  }, {\n    key: \"resizeObserver\",\n    value: function resizeObserver() {\n      // this.IFM.resetFrameVerticalBoundrary();\n      // this.IFM.resetFrameHorizontalBoundrary();\n      // this.resolve(this.blockList)\n      this.reflowIFM();\n      this.blockList.old = this.blockList.current;\n      this.blockList.current = [];\n      this.reflowBlocks(this);\n      this.resortBlock();\n      this.dispatchEvent(new _event_event__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('afterResize'));\n      this.refreshTools();\n      console.log('resizeObserver');\n    }\n  }, {\n    key: \"reflowIFM\",\n    value: function reflowIFM() {\n      if (!this.IFM._observer) {\n        var _this$dataElemDescrip = this.dataElemDescription,\n            getRoot = _this$dataElemDescrip.getRoot,\n            bindElement = _this$dataElemDescrip.bindElement;\n        var root = getRoot();\n        var rootElem = bindElement(this, root);\n\n        if (rootElem) {\n          this.IFM.observe(rootElem);\n        }\n      }\n    }\n  }, {\n    key: \"reflowBlocks\",\n    value: function reflowBlocks() {\n      var _this4 = this;\n\n      var _this$dataElemDescrip2 = this.dataElemDescription,\n          getRoot = _this$dataElemDescrip2.getRoot,\n          bindElement = _this$dataElemDescrip2.bindElement,\n          getSourceChildren = _this$dataElemDescrip2.getSourceChildren;\n      var root = getRoot(); // 广度优先？\n\n      var render = function render(e) {\n        var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        var elem = bindElement(_this4, e);\n        var nextLevel = level + 1;\n\n        if (elem) {\n          _this4.renderBlock(e, elem, nextLevel);\n        }\n\n        var children = getSourceChildren(e);\n\n        if (children && children.length) {\n          children.forEach(function (c) {\n            render(c, nextLevel);\n          });\n        }\n      };\n\n      render(root);\n    }\n  }, {\n    key: \"renderBlock\",\n    value: function renderBlock(source, elem, level) {\n      this.source_block_element_map.setElementBySource(source, elem);\n      var block = this.source_block_element_map.getBlockBySource(source);\n\n      if (!block) {\n        block = new _block__WEBPACK_IMPORTED_MODULE_3__[\"default\"](source, this, document, this.IFM.overLayer);\n        this.source_block_element_map.setBlockBySource(source, block);\n        block.observe(elem, this.scheduleObserver.bind(this));\n\n        if (this.toolbox && this.toolbox.tools) {\n          this.toolbox.tools.forEach(function (tool) {\n            var t = tool.blockRenderer && tool.blockRenderer(block);\n\n            if (t) {\n              block.registTool(t);\n            }\n          });\n        }\n      }\n\n      block.setLevel(level);\n      var stylesheet = window.getComputedStyle(elem);\n      block.setBounding(elem.getBoundingClientRect());\n      block.setStyle(stylesheet);\n      this.blockList.current.push(block); // block.render();\n    }\n  }, {\n    key: \"resortBlock\",\n    value: function resortBlock() {\n      var _this$blockList = this.blockList,\n          old = _this$blockList.old,\n          current = _this$blockList.current;\n      var removed = old.filter(function (ob) {\n        return !current.find(function (cb) {\n          return ob.id === cb.id;\n        });\n      });\n      removed.forEach(function (b) {\n        b.destroy();\n      });\n      this.blockList.current.forEach(function (b) {\n        b.render();\n      });\n    }\n  }, {\n    key: \"resolveEventOffset\",\n    value: function resolveEventOffset(event) {\n      var clientX = event.clientX,\n          clientY = event.clientY;\n      var _this$domMeta = this.domMeta,\n          x = _this$domMeta.x,\n          y = _this$domMeta.y;\n      var offsetX = clientX - x;\n      var offsetY = clientY - y;\n      return {\n        offsetX: offsetX,\n        offsetY: offsetY\n      };\n    }\n  }, {\n    key: \"zoomHandler\",\n    value: function zoomHandler(offsetX, offsetY, deltaX, deltaY, event) {\n      if (this._zooming) return;\n      this._zooming = true;\n      var oldscale = this.scale;\n      var newScale = this.scale;\n      var amount = deltaY > 0 ? 1.1 : 1 / 1.1;\n      newScale *= amount;\n      newScale = Math.min(this.maxZoom, Math.max(this.minZoom, newScale));\n      var _this$position = this.position,\n          x = _this$position.x,\n          y = _this$position.y;\n      var r = newScale / oldscale;\n      var px = offsetX - (offsetX - x) * r;\n      var py = offsetY - (offsetY - y) * r;\n      this.position.x = px;\n      this.position.y = py;\n      this.scale = newScale;\n\n      this._resetTransform();\n\n      this._zooming = false;\n    }\n  }, {\n    key: \"panHandler\",\n    value: function panHandler(deltaX, deltaY) {\n      if (this._panning) return;\n      this._panning = true;\n      this.position.x += deltaX;\n      this.position.y += deltaY;\n\n      this._resetTransform();\n\n      this._panning = false;\n    }\n  }, {\n    key: \"_resetTransform\",\n    value: function _resetTransform() {\n      var _this$position2 = this.position,\n          x = _this$position2.x,\n          y = _this$position2.y;\n      var scale = this.scale;\n      var transformCss = \"matrix(\".concat(scale, \", 0, 0, \").concat(scale, \", \").concat(x, \", \").concat(y, \")\");\n      this.IFM.iframe.style.transform = transformCss;\n      this.IFM.overLayer.style.transform = transformCss;\n    }\n  }, {\n    key: \"calculateToIframeCoordinate\",\n    value: function calculateToIframeCoordinate(offsetX, offsetY) {\n      var _this$position3 = this.position,\n          x = _this$position3.x,\n          y = _this$position3.y;\n      var scale = this.scale;\n      return [(offsetX - x) / scale, (offsetY - y) / scale];\n    }\n  }, {\n    key: \"getRenderElement\",\n    value: function getRenderElement(selector) {\n      return this.IFM.querySelector(selector);\n    }\n  }, {\n    key: \"postMessage\",\n    value: function postMessage(message) {\n      this.IFM.postMessage(message, this.frameURL);\n    }\n    /* setResizingTarget(block, clientX, clientY) {\n         Object.assign(this.state.resizeMeta, {\n             target: block,\n             lastX: clientX, \n             lastY: clientY,\n         })\n         const elem = this.source_block_element_map.getElementBySource(block.source);\n         let processing = false;\n         const f = (e => {\n             console.log('processing', processing);\n             if(processing){\n                 return;\n             }\n             processing = true;\n             const { clientX, clientY } = e;\n             const {\n                 lastX, lastY, target,\n             } = this.state.resizeMeta;\n             const deltaX = (clientX - lastX) * this.scale;\n             const deltaY = (clientY - lastY) * this.scale;\n             this.dispatchEvent(new JFrameEvent('elementResizing', {\n                 block: target,\n                 source: target?.source,\n                 deltaX,\n                 deltaY\n             }))\n             const elbounds = elem.getBoundingClientRect();\n             console.log(elbounds)\n             const currWidth = elbounds.width + deltaX;\n             const currHeight = elbounds.height + deltaY;\n             elem.style.width = `${elbounds.width + deltaX}px`;\n             elem.style.height = `${elbounds.height + deltaY}px`;\n             Object.assign(this.state.resizeMeta, {\n                 lastX: clientX,\n                 lastY: clientY,\n                 currWidth,\n                 currHeight \n             })\n             processing = false;\n         }).bind(this);\n          document.addEventListener('pointermove', f);\n         document.addEventListener('pointerup', event => {\n             console.log('pointerup');\n             const { currWidth, currHeight, target } = this.state.resizeMeta;\n             Object.assign(this.state.resizeMeta, {\n                 target: null,\n                 lastX: undefined,\n                 lastY: undefined\n             })\n             document.removeEventListener('pointermove', f);\n             this.dispatchEvent(new JFrameEvent('elementResized', {\n                 source: target?.source,\n                 width: currWidth,\n                 height: currHeight,\n             }))\n         }, {\n             once: true\n         })\n     }*/\n\n  }, {\n    key: \"setHoverTarget\",\n    value: function setHoverTarget(block) {\n      console.log('setHoverTarget');\n      this.state.hoverTarget = block; // if(this.hoverIndicator) {\n      //     this.hoverIndicator.style.display = 'block';\n      // }\n\n      this.dispatchEvent(new _event_event__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('elementHover', {\n        target: block\n      }));\n    }\n  }, {\n    key: \"resetHoverTarget\",\n    value: function resetHoverTarget(block) {\n      if (this.state.hoverTarget === block) {\n        this.state.hoverTarget = null; // if(this.hoverIndicator) {\n        //     this.hoverIndicator.style.display = 'none';\n        // }\n\n        this.dispatchEvent(new _event_event__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('elementHover', {\n          target: null\n        }));\n      }\n    }\n  }, {\n    key: \"setFocusTarget\",\n    value: function setFocusTarget(block) {\n      var _this5 = this;\n\n      this.toolbox.tools.forEach(function (tool) {\n        tool.destroy();\n      });\n\n      if (this.state.focusTarget) {\n        this.state.focusTarget.setFocus(false);\n      }\n\n      this.state.focusTarget = block;\n\n      if (this.state.focusTarget) {\n        this.state.focusTarget.setFocus(true);\n      }\n\n      if (this.toolbox && this.toolbox.tools) {\n        if (block) {\n          // const { x, y, width, height } = block;\n          this.IFM.toggleTools(true, block);\n          this.toolbox.tools.forEach(function (tool) {\n            tool.renderToolbox(block, function (el) {\n              _this5.IFM.toolbox.appendChild(el);\n            });\n            tool.renderBlockTool(block, function (el) {\n              _this5.IFM.blockTool.appendChild(el);\n            });\n          });\n        } else {\n          this.IFM.toggleTools(false, this.state.focusTarget);\n        }\n      } // if(this.focusIndicator) {\n      //     this.focusIndicator.style.display = block ? 'block' : 'none';\n      // }\n\n\n      this.dispatchEvent(new _event_event__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('elementFocus', {\n        target: block\n      }));\n    }\n  }, {\n    key: \"refreshTools\",\n    value: function refreshTools() {\n      var _this6 = this;\n\n      if (this.state.focusTarget) {\n        this.IFM.refreshToolWrapper(this.state.focusTarget);\n        this.toolbox.tools.forEach(function (tool) {\n          if (tool.refresh) {\n            tool.refresh(_this6.state.focusTarget);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"setDragoverWrapperTarget\",\n    value: function setDragoverWrapperTarget(block) {\n      if (block === this.state.dragoverTargetWrapper) {\n        return;\n      }\n\n      if (this.state.dragoverTargetWrapper) {\n        this.state.dragoverTargetWrapper.setAcceptElem(false);\n      }\n\n      this.state.dragoverTargetWrapper = block;\n\n      if (this.state.dragoverTargetWrapper) {\n        this.state.dragoverTargetWrapper.setAcceptElem(true);\n      }\n    }\n  }, {\n    key: \"renderChildClosestFence\",\n    value: function renderChildClosestFence(point, block) {\n      var _this7 = this,\n          _this$state$movingTar;\n\n      console.log('renderChildClosestFence');\n      var children = this.dataElemDescription.getSourceChildren(block.source);\n      var p = {\n        x: point[0],\n        y: point[1]\n      };\n      var dist = Infinity;\n      var closestFence = null;\n      var closestBlock = null;\n      var direction = undefined;\n      var childIdx = undefined;\n      children.forEach(function (c, idx) {\n        var isBlock = _this7.dataElemDescription.blockElement(c);\n\n        var childBlock = _this7.source_block_element_map.getBlockBySource(c);\n\n        if (isBlock) {\n          var _childBlock$getHorizo = childBlock.getHorizontalSegments(),\n              _childBlock$getHorizo2 = _slicedToArray(_childBlock$getHorizo, 2),\n              s1 = _childBlock$getHorizo2[0],\n              s2 = _childBlock$getHorizo2[1];\n\n          var d1 = (0,_utils_functions__WEBPACK_IMPORTED_MODULE_1__.distToSegmentSquared)(p, s1[0], s1[1]);\n\n          if (d1 < dist) {\n            dist = d1;\n            closestFence = s1[0];\n            direction = 'horizontal';\n            closestBlock = childBlock;\n            childIdx = idx;\n          }\n\n          var d2 = (0,_utils_functions__WEBPACK_IMPORTED_MODULE_1__.distToSegmentSquared)(p, s2[0], s2[1]);\n\n          if (d2 < dist) {\n            dist = d2;\n            closestFence = s2[0];\n            direction = 'horizontal';\n            closestBlock = childBlock;\n            childIdx = idx + 1;\n          }\n        } else {\n          var _childBlock$getVertic = childBlock.getVerticalSegments(),\n              _childBlock$getVertic2 = _slicedToArray(_childBlock$getVertic, 2),\n              _s2 = _childBlock$getVertic2[0],\n              _s3 = _childBlock$getVertic2[1];\n\n          var _d2 = (0,_utils_functions__WEBPACK_IMPORTED_MODULE_1__.distToSegmentSquared)(p, _s2[0], _s2[1]);\n\n          if (_d2 < dist) {\n            dist = _d2;\n            closestFence = _s2[0];\n            direction = 'vertical';\n            closestBlock = childBlock;\n            childIdx = idx;\n          }\n\n          var _d3 = (0,_utils_functions__WEBPACK_IMPORTED_MODULE_1__.distToSegmentSquared)(p, _s3[0], _s3[1]);\n\n          if (_d3 < dist) {\n            dist = _d3;\n            closestFence = _s3[0];\n            direction = 'vertical';\n            closestBlock = childBlock;\n            childIdx = idx + 1;\n          }\n        }\n      }); // console.log(closestFence)\n\n      var accept = this.dataElemDescription.isAcceptElement((_this$state$movingTar = this.state.movingTarget) === null || _this$state$movingTar === void 0 ? void 0 : _this$state$movingTar.source, block.source);\n      this.IFM.setFenceAccept(accept);\n\n      if (!closestFence) {\n        var isBlock = this.dataElemDescription.blockElement(block.source);\n        var x = block.x,\n            y = block.y,\n            width = block.width,\n            height = block.height;\n\n        if (isBlock) {\n          var yfence = y + height / 2;\n          this.IFM.renderHorizontalFence(x, yfence, width);\n        } else {\n          var xfence = x + width / 2;\n          this.IFM.renderVerticalFence(xfence, y, height);\n        }\n\n        this.fenceTarget = {\n          source: block.source,\n          childIdx: 0,\n          accept: accept\n        };\n        return;\n      }\n\n      this.fenceTarget = {\n        source: block.source,\n        childIdx: childIdx,\n        accept: accept\n      };\n\n      if (direction === 'horizontal') {\n        var v = closestFence;\n        this.IFM.renderHorizontalFence(v.x, v.y, closestBlock.width);\n      } else {\n        var _v = closestFence;\n        this.IFM.renderVerticalFence(_v.x, _v.y, closestBlock.height);\n      }\n    }\n  }, {\n    key: \"renderClosestFence\",\n    value: function renderClosestFence(point, block, wrapperSource) {\n      var _this$state$movingTar2;\n\n      var children = this.dataElemDescription.getSourceChildren(wrapperSource);\n      var source = block.source;\n\n      var _point = _slicedToArray(point, 2),\n          px = _point[0],\n          py = _point[1];\n\n      var isBlock = this.dataElemDescription.blockElement(source);\n      var x = block.x,\n          y = block.y,\n          width = block.width,\n          height = block.height;\n      var offset = 0;\n\n      if (isBlock) {\n        var upper = Math.abs(py - y) < Math.abs(py - y - height);\n        var yfence = upper ? y : y + height;\n        offset = upper ? 0 : 1;\n        this.IFM.renderHorizontalFence(x, yfence, width);\n      } else {\n        var left = Math.abs(px - x) < Math.abs(px - x - width);\n        var xfence = left ? x : x + width;\n        offset = left ? 0 : 1;\n        this.IFM.renderVerticalFence(xfence, y, height);\n      }\n\n      var accept = this.dataElemDescription.isAcceptElement((_this$state$movingTar2 = this.state.movingTarget) === null || _this$state$movingTar2 === void 0 ? void 0 : _this$state$movingTar2.source, wrapperSource);\n      this.IFM.setFenceAccept(accept);\n      this.fenceTarget = {\n        source: wrapperSource,\n        childIdx: children.findIndex(function (c) {\n          return c === source;\n        }) + offset,\n        accept: accept\n      };\n    }\n  }, {\n    key: \"setMovingTarget\",\n    value: function setMovingTarget(block) {\n      console.log('setMovingTarget', block);\n      this.state.movingTarget = block;\n    }\n  }, {\n    key: \"getMovingTarget\",\n    value: function getMovingTarget() {\n      return this.state.movingTarget;\n    } // splitElement(target, dir) {\n    //     this.dispatchEvent(new JFrameEvent('elementSplit', {\n    //         block: target,\n    //         source: target?.source,\n    //         dir,\n    //     }))\n    // }\n\n  }, {\n    key: \"bindDragdropListener\",\n    value: function bindDragdropListener(elem, pointerdown, pointermove, pointerup) {\n      var _this8 = this;\n\n      var resizeMeta = {\n        lastX: undefined,\n        lastY: undefined\n      };\n      elem.addEventListener('pointerdown', function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var clientX = e.clientX,\n            clientY = e.clientY;\n        Object.assign(resizeMeta, {\n          lastX: clientX,\n          lastY: clientY\n        });\n\n        var _args = pointerdown() || [];\n\n        var processing = false;\n\n        var f = function f(e) {\n          if (processing) {\n            return;\n          }\n\n          processing = true;\n          var clientX = e.clientX,\n              clientY = e.clientY;\n          var lastX = resizeMeta.lastX,\n              lastY = resizeMeta.lastY;\n          var deltaX = (clientX - lastX) / _this8.scale;\n          var deltaY = (clientY - lastY) / _this8.scale;\n\n          var _this8$resolveEventOf = _this8.resolveEventOffset(e),\n              offsetX = _this8$resolveEventOf.offsetX,\n              offsetY = _this8$resolveEventOf.offsetY;\n\n          var point = _this8.calculateToIframeCoordinate(offsetX, offsetY);\n\n          pointermove.apply(void 0, [deltaX, deltaY, point].concat(_toConsumableArray(_args)));\n          Object.assign(resizeMeta, {\n            lastX: clientX,\n            lastY: clientY\n          });\n          processing = false;\n        };\n\n        document.addEventListener('pointermove', f);\n        document.addEventListener('pointerup', function (e) {\n          Object.assign(resizeMeta, {\n            lastX: undefined,\n            lastY: undefined\n          });\n          document.removeEventListener('pointermove', f);\n          pointerup.apply(void 0, [e].concat(_toConsumableArray(_args)));\n        }, {\n          once: true\n        });\n      });\n    }\n  }]);\n\n  return JFrame;\n}( /*#__PURE__*/_wrapNativeSuper(EventTarget)); // Object.assign(JFrame.prototype, ScrollBarMixin);\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (JFrame);\n\n\n//# sourceURL=webpack://pure/../../src/core/jframe.js?");

/***/ }),

/***/ "../../src/core/sourceBlockElementMap.js":
/*!***********************************************!*\
  !*** ../../src/core/sourceBlockElementMap.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar sourceBlockElememtMap = /*#__PURE__*/function () {\n  function sourceBlockElememtMap() {\n    _classCallCheck(this, sourceBlockElememtMap);\n\n    this._map = new WeakMap();\n  }\n\n  _createClass(sourceBlockElememtMap, [{\n    key: \"get\",\n    value: function get(source) {\n      return this._map.get(source);\n    }\n  }, {\n    key: \"has\",\n    value: function has(source) {\n      return this._map.has(source);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this._map.clear();\n    }\n  }, {\n    key: \"getBlockBySource\",\n    value: function getBlockBySource(source) {\n      var mapping = this._map.get(source);\n\n      if (mapping) {\n        return mapping.block;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"getElementBySource\",\n    value: function getElementBySource(source) {\n      var mapping = this._map.get(source);\n\n      if (mapping) {\n        return mapping.element;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"setBlockBySource\",\n    value: function setBlockBySource(source, block) {\n      if (!this.has(source)) {\n        var obj = getMapObject(block);\n\n        this._map.set(source, obj);\n      } else {\n        var _obj = this._map.get(source);\n\n        _obj.block = block;\n      }\n    }\n  }, {\n    key: \"setElementBySource\",\n    value: function setElementBySource(source, element) {\n      if (!this.has(source)) {\n        var obj = getMapObject(undefined, element);\n\n        this._map.set(source, obj);\n      } else {\n        var _obj2 = this._map.get(source);\n\n        _obj2.element = element;\n      }\n    }\n  }]);\n\n  return sourceBlockElememtMap;\n}();\n\nfunction getMapObject(block, element) {\n  return {\n    block: block,\n    element: element\n  };\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sourceBlockElememtMap);\n\n//# sourceURL=webpack://pure/../../src/core/sourceBlockElementMap.js?");

/***/ }),

/***/ "../../src/core/splitter.js":
/*!**********************************!*\
  !*** ../../src/core/splitter.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _event_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./event/event */ \"../../src/core/event/event.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\nvar Splitter = /*#__PURE__*/function () {\n  function Splitter(targetBlock) {\n    _classCallCheck(this, Splitter);\n\n    this.elem = document.createElement('div');\n    this.targetBlock = targetBlock;\n    this.bindSplitLineEventListener();\n  }\n\n  _createClass(Splitter, [{\n    key: \"setProps\",\n    value: function setProps(dir, reduce, preblock, afterblock, siblingBlocks) {\n      var _this$targetBlock = this.targetBlock,\n          width = _this$targetBlock.width,\n          height = _this$targetBlock.height,\n          x = _this$targetBlock.x,\n          y = _this$targetBlock.y;\n      var line = this.elem;\n      this.dir = dir;\n\n      if (dir === 'row') {\n        line.setAttribute('class', 'jframe-block-line jframe-line-vertical');\n        line.style.height = height + 'px';\n        line.style.top = y + 'px';\n        line.style.left = reduce + x + 'px';\n      }\n\n      if (dir === 'column') {\n        line.setAttribute('class', 'jframe-block-line jframe-line-horizontal');\n        line.style.width = width + 'px';\n        line.style.top = reduce + y + 'px';\n        line.style.left = x + 'px';\n      }\n\n      this.preblock = preblock;\n      this.afterblock = afterblock;\n      this.siblingBlocks = siblingBlocks;\n    }\n  }, {\n    key: \"attach\",\n    value: function attach(dom) {\n      dom.appendChild(this.elem);\n    }\n  }, {\n    key: \"toggleActive\",\n    value: function toggleActive(val) {\n      if (val) {\n        this.elem.setAttribute('active', true);\n      } else {\n        this.elem.removeAttribute('active');\n      }\n    }\n  }, {\n    key: \"bindSplitLineEventListener\",\n    value: function bindSplitLineEventListener() {\n      var _this = this;\n\n      var jframe = this.targetBlock.jframe;\n      jframe.bindDragdropListener(this.elem, function () {\n        jframe.IFM.toggleBlockHoverStyle(true);\n        var preblock = _this.preblock,\n            afterblock = _this.afterblock,\n            targetBlock = _this.targetBlock,\n            dir = _this.dir;\n        preblock.toggleHoverEnable(false);\n        afterblock.toggleHoverEnable(false);\n        var preSource = preblock.source;\n        var afterSource = afterblock.source;\n        var preElem = jframe.source_block_element_map.getElementBySource(preSource);\n        var afterElem = jframe.source_block_element_map.getElementBySource(afterSource);\n        var space;\n        var wholeWidth = targetBlock.width;\n        var wholeHeight = targetBlock.height;\n        var wholeRatio;\n\n        if (dir === 'row') {\n          space = preblock.width + afterblock.width;\n          wholeRatio = space / wholeWidth;\n        }\n\n        if (dir === 'column') {\n          space = preblock.height + afterblock.height;\n          wholeRatio = space / wholeHeight;\n        }\n\n        function minmax(num) {\n          return Math.max(0, Math.min(space, num));\n        }\n\n        _this.toggleActive(true);\n\n        return [preElem, afterElem, wholeWidth, wholeHeight, wholeRatio, minmax, space];\n      }, function (deltaX, deltaY, point, preElem, afterElem, wholeWidth, wholeHeight, wholeRatio, minmax, space) {\n        var dir = _this.dir,\n            preblock = _this.preblock,\n            afterblock = _this.afterblock,\n            siblingBlocks = _this.siblingBlocks;\n\n        if (dir === 'row') {\n          var w = preElem.getBoundingClientRect().width;\n          var calW = minmax(w + deltaX);\n          var preW = calW / wholeWidth;\n          var afterW = wholeRatio - preW;\n          preElem.style.width = \"\".concat(preW * 100, \"%\");\n          afterElem.style.width = \"\".concat(afterW * 100, \"%\");\n          siblingBlocks.forEach(function (b) {\n            if (b === preblock) {\n              preblock.toggleIndicator(true, dir, point, wholeWidth, calW / space);\n            } else if (b === afterblock) {\n              afterblock.toggleIndicator(true, dir, point, wholeWidth, 1 - calW / space);\n            } else {\n              b.toggleIndicator(true, dir, point, wholeWidth);\n            }\n          });\n        }\n\n        if (dir === 'column') {\n          var h = preElem.getBoundingClientRect().height;\n          var callH = minmax(h + deltaY);\n          var preH = callH / wholeHeight;\n          var afterH = wholeRatio - preH;\n          preElem.style.height = \"\".concat(preH * 100, \"%\");\n          afterElem.style.height = \"\".concat(afterH * 100, \"%\");\n          siblingBlocks.forEach(function (b) {\n            if (b === preblock) {\n              preblock.toggleIndicator(true, dir, point, wholeHeight, callH / space);\n            } else if (b === afterblock) {\n              afterblock.toggleIndicator(true, dir, point, wholeHeight, 1 - callH / space);\n            } else {\n              b.toggleIndicator(true, dir, point, wholeHeight);\n            }\n          });\n        }\n      }, function (event, preElem, afterElem) {\n        var preblock = _this.preblock,\n            afterblock = _this.afterblock,\n            siblingBlocks = _this.siblingBlocks; // preblock.toggleIndicator(false);\n        // afterblock.toggleIndicator(false);\n\n        preblock.toggleHoverEnable(true);\n        afterblock.toggleHoverEnable(true);\n        jframe.IFM.toggleBlockHoverStyle(false);\n        var prestylesheet = window.getComputedStyle(preElem);\n        var afterstylesheet = window.getComputedStyle(afterElem);\n\n        _this.toggleActive(false);\n\n        siblingBlocks.forEach(function (b) {\n          b.toggleIndicator(false);\n        });\n        jframe.dispatchEvent(new _event_event__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('elementsResized', {\n          elements: [{\n            targetBlock: preblock,\n            source: preblock.source,\n            width: preElem.style.width,\n            height: preElem.style.height,\n            marginLeft: prestylesheet.marginLeft,\n            marginRight: prestylesheet.marginRight,\n            marginTop: prestylesheet.marginTop,\n            marginBottom: prestylesheet.marginBottom\n          }, {\n            targetBlock: afterblock,\n            source: afterblock.source,\n            width: afterElem.style.width,\n            height: afterElem.style.height,\n            marginLeft: afterstylesheet.marginLeft,\n            marginRight: afterstylesheet.marginRight,\n            marginTop: afterstylesheet.marginTop,\n            marginBottom: afterstylesheet.marginBottom\n          }]\n        }));\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.elem.remove();\n    }\n  }]);\n\n  return Splitter;\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Splitter);\n\n//# sourceURL=webpack://pure/../../src/core/splitter.js?");

/***/ }),

/***/ "../../src/core/toolbox/block-alignment.js":
/*!*************************************************!*\
  !*** ../../src/core/toolbox/block-alignment.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tool */ \"../../src/core/toolbox/tool.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\nvar BlockAlignment = /*#__PURE__*/function (_Tool) {\n  _inherits(BlockAlignment, _Tool);\n\n  var _super = _createSuper(BlockAlignment);\n\n  function BlockAlignment(configs) {\n    var _this;\n\n    _classCallCheck(this, BlockAlignment);\n\n    _this = _super.call(this, configs);\n    _this.onClick = configs.onClick;\n    _this.accept = configs.accept;\n    var g1 = document.createElement('span');\n    g1.setAttribute('class', 'jframe-toolbtn');\n    var justifyStartBtn = document.createElement('span');\n    justifyStartBtn.setAttribute('class', 'jframe-toolbtn-group-item jframe-toolbtn-group-justify-start');\n    var justifyEndBtn = document.createElement('span');\n    justifyEndBtn.setAttribute('class', 'jframe-toolbtn-group-item jframe-toolbtn-group-justify-end');\n    var columnBtn = document.createElement('span');\n    columnBtn.setAttribute('class', 'jframe-toolbtn-group-item jframe-toolbtn-group-column');\n    g1.appendChild(justifyStartBtn);\n    g1.appendChild(justifyEndBtn);\n    g1.appendChild(columnBtn);\n    var g2 = document.createElement('span');\n    g2.setAttribute('class', 'jframe-toolbtn');\n    var alignStartBtn = document.createElement('span');\n    alignStartBtn.setAttribute('class', 'jframe-toolbtn-group-item jframe-toolbtn-group-alignment-start');\n    var alignCenterBtn = document.createElement('span');\n    alignCenterBtn.setAttribute('class', 'jframe-toolbtn-group-item jframe-toolbtn-group-alignment-center');\n    var alignEndBtn = document.createElement('span');\n    alignEndBtn.setAttribute('class', 'jframe-toolbtn-group-item jframe-toolbtn-group-alignment-end');\n    g2.appendChild(alignStartBtn);\n    g2.appendChild(alignCenterBtn);\n    g2.appendChild(alignEndBtn);\n    g1.addEventListener('click', function (e) {\n      var targetBlock = _this.targetBlock;\n\n      if (e.target === justifyStartBtn) {\n        _this.onClick(targetBlock, 'justify', 'start');\n\n        e.stopPropagation();\n      }\n\n      if (e.target === justifyEndBtn) {\n        _this.onClick(targetBlock, 'justify', 'end');\n\n        e.stopPropagation();\n      }\n\n      if (e.target === columnBtn) {\n        _this.onClick(targetBlock, 'containerDirection', targetBlock.source.props.containerDirection === 'column' ? 'row' : 'column');\n\n        e.stopPropagation();\n      }\n    });\n    g2.addEventListener('click', function (e) {\n      var targetBlock = _this.targetBlock;\n\n      if (e.target === alignStartBtn) {\n        _this.onClick(targetBlock, 'alignment', 'start');\n\n        e.stopPropagation();\n      }\n\n      if (e.target === alignCenterBtn) {\n        _this.onClick(targetBlock, 'alignment', 'center');\n\n        e.stopPropagation();\n      }\n\n      if (e.target === alignEndBtn) {\n        _this.onClick(targetBlock, 'alignment', 'end');\n\n        e.stopPropagation();\n      }\n    });\n    Object.assign(_assertThisInitialized(_this), {\n      g1: g1,\n      g2: g2,\n      justifyStartBtn: justifyStartBtn,\n      justifyEndBtn: justifyEndBtn,\n      columnBtn: columnBtn,\n      alignStartBtn: alignStartBtn,\n      alignCenterBtn: alignCenterBtn,\n      alignEndBtn: alignEndBtn\n    });\n    return _this;\n  }\n\n  _createClass(BlockAlignment, [{\n    key: \"renderToolbox\",\n    value: function renderToolbox(targetBlock, appendChild) {\n      if (this.accept(targetBlock.source)) {\n        var g1 = this.g1,\n            g2 = this.g2;\n        this.targetBlock = targetBlock;\n\n        this._resetProps(targetBlock);\n\n        appendChild(g1);\n        appendChild(g2);\n      }\n    }\n  }, {\n    key: \"_resetProps\",\n    value: function _resetProps(targetBlock) {\n      var justifyStartBtn = this.justifyStartBtn,\n          justifyEndBtn = this.justifyEndBtn,\n          columnBtn = this.columnBtn,\n          alignStartBtn = this.alignStartBtn,\n          alignCenterBtn = this.alignCenterBtn,\n          alignEndBtn = this.alignEndBtn;\n      var _targetBlock$source$p = targetBlock.source.props,\n          containerDirection = _targetBlock$source$p.containerDirection,\n          justify = _targetBlock$source$p.justify,\n          alignment = _targetBlock$source$p.alignment;\n      justifyStartBtn.setAttribute('light', !justify || justify === 'start');\n      justifyEndBtn.setAttribute('light', justify === 'end');\n      columnBtn.setAttribute('light', containerDirection === 'column');\n      alignStartBtn.setAttribute('light', !alignment || alignment === 'start');\n      alignCenterBtn.setAttribute('light', alignment === 'center');\n      alignEndBtn.setAttribute('light', alignment === 'end');\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh(targetBlock) {\n      if (this.accept(targetBlock.source)) {\n        this._resetProps(targetBlock);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.g1.remove();\n      this.g2.remove();\n    }\n  }]);\n\n  return BlockAlignment;\n}(_tool__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BlockAlignment);\n\n//# sourceURL=webpack://pure/../../src/core/toolbox/block-alignment.js?");

/***/ }),

/***/ "../../src/core/toolbox/block-delete.js":
/*!**********************************************!*\
  !*** ../../src/core/toolbox/block-delete.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tool */ \"../../src/core/toolbox/tool.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\nvar BlockDelete = /*#__PURE__*/function (_Tool) {\n  _inherits(BlockDelete, _Tool);\n\n  var _super = _createSuper(BlockDelete);\n\n  function BlockDelete(configs) {\n    var _this;\n\n    _classCallCheck(this, BlockDelete);\n\n    _this = _super.call(this, configs);\n    _this.onClick = configs.onClick;\n    _this.accept = configs.accept;\n    return _this;\n  }\n\n  _createClass(BlockDelete, [{\n    key: \"renderToolbox\",\n    value: function renderToolbox(targetBlock, appendChild) {\n      var _this2 = this;\n\n      if (this.accept(targetBlock)) {\n        var el = document.createElement('span');\n        el.setAttribute('class', 'jframe-toolbtn jframe-deleteBtn');\n        this.el = el;\n        el.addEventListener('click', function () {\n          _this2.onClick(targetBlock);\n        });\n        appendChild(el);\n      }\n    }\n  }]);\n\n  return BlockDelete;\n}(_tool__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BlockDelete);\n\n//# sourceURL=webpack://pure/../../src/core/toolbox/block-delete.js?");

/***/ }),

/***/ "../../src/core/toolbox/block-size.js":
/*!********************************************!*\
  !*** ../../src/core/toolbox/block-size.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tool */ \"../../src/core/toolbox/tool.js\");\n/* harmony import */ var _event_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../event/event */ \"../../src/core/event/event.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\nfunction renderContent(targetBlock) {\n  return \"\".concat(Math.round(targetBlock.width), \"x\").concat(Math.round(targetBlock.height));\n}\n\nvar BlockSize = /*#__PURE__*/function (_Tool) {\n  _inherits(BlockSize, _Tool);\n\n  var _super = _createSuper(BlockSize);\n\n  function BlockSize(configs) {\n    var _this;\n\n    _classCallCheck(this, BlockSize);\n\n    _this = _super.call(this);\n    _this.status = {\n      leftedit: false,\n      rightedit: false\n    };\n    _this.onSizeChange = configs.onSizeChange;\n    _this.editable = configs.editable;\n    return _this;\n  }\n\n  _createClass(BlockSize, [{\n    key: \"renderToolbox\",\n    value: function renderToolbox(targetBlock, appendChild) {\n      var el = document.createElement('span');\n      el.setAttribute('class', 'jframe-toolbtn');\n      el.innerText = renderContent(targetBlock);\n\n      if (this.editable(targetBlock)) {\n        var inputLeft = document.createElement('input');\n        inputLeft.setAttribute('class', 'jframe-toolbtn-input');\n        inputLeft.setAttribute('type', 'number');\n        var inputRight = document.createElement('input');\n        inputRight.setAttribute('class', 'jframe-toolbtn-input');\n        inputRight.setAttribute('type', 'number');\n\n        var _change = function (e) {\n          targetBlock.jframe.dispatchEvent(new _event_event__WEBPACK_IMPORTED_MODULE_1__[\"default\"]('elementsResized', {\n            elements: [{\n              targetBlock: targetBlock,\n              source: targetBlock.source,\n              width: \"\".concat(inputLeft.value, \"px\"),\n              height: \"\".concat(inputRight.value, \"px\")\n            }]\n          }));\n          el.addEventListener('click', function () {\n            el.innerText = '';\n            inputLeft.value = targetBlock.width;\n            inputRight.value = targetBlock.height;\n            el.appendChild(wrapper);\n          }, {\n            once: true\n          });\n        }.bind(this);\n\n        inputLeft.addEventListener('change', _change);\n        inputRight.addEventListener('change', _change);\n        var op = document.createElement('span');\n        op.innerText = 'x';\n        var wrapper = document.createElement('span');\n        wrapper.style.display = 'inline-block';\n        wrapper.appendChild(inputLeft);\n        wrapper.appendChild(op);\n        wrapper.appendChild(inputRight);\n        el.addEventListener('click', function () {\n          el.innerText = '';\n          inputLeft.value = targetBlock.width;\n          inputRight.value = targetBlock.height;\n          el.appendChild(wrapper);\n        }, {\n          once: true\n        });\n      }\n\n      this.el = el;\n      appendChild(el);\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh(targetBlock) {\n      this.el.innerText = renderContent(targetBlock);\n    }\n  }]);\n\n  return BlockSize;\n}(_tool__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BlockSize);\n\n//# sourceURL=webpack://pure/../../src/core/toolbox/block-size.js?");

/***/ }),

/***/ "../../src/core/toolbox/block-title.js":
/*!*********************************************!*\
  !*** ../../src/core/toolbox/block-title.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tool */ \"../../src/core/toolbox/tool.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\nvar BlockTitle = /*#__PURE__*/function (_Tool) {\n  _inherits(BlockTitle, _Tool);\n\n  var _super = _createSuper(BlockTitle);\n\n  function BlockTitle() {\n    _classCallCheck(this, BlockTitle);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(BlockTitle, [{\n    key: \"renderToolbox\",\n    value: function renderToolbox(targetBlock, appendChild) {\n      var jframe = targetBlock.jframe,\n          source = targetBlock.source;\n      var wrapper = document.createElement('span');\n      wrapper.setAttribute('class', 'jframe-title-wrapper');\n      var parent = source;\n      var idx = 0;\n\n      var _loop = function _loop() {\n        var block = jframe.source_block_element_map.getBlockBySource(parent);\n        var el = document.createElement('span');\n        el.setAttribute('class', 'jframe-title');\n        el.innerText = block.source.tag;\n        var isFirst = idx === 0;\n\n        if (isFirst) {\n          el.setAttribute('first-title', true);\n        }\n\n        el.addEventListener('mouseenter', function (e) {\n          if (!isFirst) {\n            console.log('sethover');\n            block.setHover(true);\n          }\n        });\n        el.addEventListener('mouseleave', function (e) {\n          if (!isFirst) {\n            block.setHover(false);\n          }\n        });\n        el.addEventListener('click', function () {\n          block.setHover(false);\n          jframe.setFocusTarget(block);\n        });\n        wrapper.prepend(el);\n        parent = jframe.dataElemDescription.getSourceParent(parent);\n        idx++;\n      };\n\n      while (parent) {\n        _loop();\n      }\n\n      this.el = wrapper;\n      appendChild(wrapper);\n    }\n  }]);\n\n  return BlockTitle;\n}(_tool__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BlockTitle);\n\n//# sourceURL=webpack://pure/../../src/core/toolbox/block-title.js?");

/***/ }),

/***/ "../../src/core/toolbox/blockbox-conent.js":
/*!*************************************************!*\
  !*** ../../src/core/toolbox/blockbox-conent.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tool */ \"../../src/core/toolbox/tool.js\");\n/* harmony import */ var _event_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../event/event */ \"../../src/core/event/event.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\nvar BlockBoxContentEditor = /*#__PURE__*/function (_Tool) {\n  _inherits(BlockBoxContentEditor, _Tool);\n\n  var _super = _createSuper(BlockBoxContentEditor);\n\n  function BlockBoxContentEditor(configs) {\n    var _this;\n\n    _classCallCheck(this, BlockBoxContentEditor);\n\n    _this = _super.call(this);\n    _this.accept = configs.accept;\n    _this.getContent = configs.getContent;\n    _this.onContentChange = configs.onContentChange;\n    return _this;\n  }\n\n  _createClass(BlockBoxContentEditor, [{\n    key: \"renderBlockTool\",\n    value: function renderBlockTool(targetBlock, appendChild) {\n      var _this2 = this;\n\n      if (this.accept(targetBlock)) {\n        var width = targetBlock.width,\n            height = targetBlock.height;\n        var inputElemWrapper = document.createElement('div');\n        inputElemWrapper.setAttribute('class', 'jframe-block-content-editor');\n        var inputElem = document.createElement('input');\n        inputElem.setAttribute('class', 'jframe-block-content-editor-input');\n        inputElem.setAttribute('type', 'text');\n        inputElemWrapper.appendChild(inputElem);\n        inputElem.value = this.getContent(targetBlock.source);\n        inputElem.addEventListener('blur', function () {\n          _this2.onContentChange(targetBlock.source, inputElem.value);\n\n          _this2.el.style.display = 'none';\n        });\n        inputElem.addEventListener('keydown', function (e) {\n          if (e.key === 'Enter') {\n            _this2.onContentChange(targetBlock.source, inputElem.value);\n\n            _this2.el.style.display = 'none';\n          }\n        });\n        inputElemWrapper.style.width = width + 'px';\n        inputElemWrapper.style.height = height + 'px';\n\n        var f = function () {\n          inputElemWrapper.style.display = 'flex';\n          inputElemWrapper.style.width = width + 'px';\n          inputElemWrapper.style.height = height + 'px';\n          inputElem.value = _this2.getContent(targetBlock.source);\n          inputElem.focus();\n        }.bind(this);\n\n        targetBlock.elem.addEventListener('dblclick', f);\n\n        this.abortListener = function () {\n          targetBlock.elem.removeEventListener('dblclick', f);\n        };\n\n        appendChild(inputElemWrapper);\n        this.el = inputElemWrapper;\n        this.inputElem = inputElem;\n      }\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh(targetBlock) {\n      if (this.accept(targetBlock)) {\n        this.el.style.display = 'none';\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.el) {\n        this.abortListener();\n        this.el.remove();\n      }\n    }\n  }]);\n\n  return BlockBoxContentEditor;\n}(_tool__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BlockBoxContentEditor);\n\n//# sourceURL=webpack://pure/../../src/core/toolbox/blockbox-conent.js?");

/***/ }),

/***/ "../../src/core/toolbox/blockbox-margin.js":
/*!*************************************************!*\
  !*** ../../src/core/toolbox/blockbox-margin.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tool */ \"../../src/core/toolbox/tool.js\");\n/* harmony import */ var _event_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../event/event */ \"../../src/core/event/event.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\nvar ELEMENT_KEYS = ['marginBarLeft', 'marginBarRight', 'marginBarTop', 'marginBarBottom'];\n\nvar BlockBoxMargin = /*#__PURE__*/function (_Tool) {\n  _inherits(BlockBoxMargin, _Tool);\n\n  var _super = _createSuper(BlockBoxMargin);\n\n  function BlockBoxMargin(configs) {\n    var _this;\n\n    _classCallCheck(this, BlockBoxMargin);\n\n    _this = _super.call(this);\n    _this.accept = configs.accept;\n    return _this;\n  }\n\n  _createClass(BlockBoxMargin, [{\n    key: \"_calculateWidthAfterMarginChange\",\n    value: function _calculateWidthAfterMarginChange(_ref) {\n      var _parseFloat, _parseFloat2, _parseFloat3, _parseFloat4;\n\n      var jframe = _ref.jframe,\n          elem = _ref.elem,\n          targetSource = _ref.targetSource,\n          ml = _ref.marginLeft,\n          mr = _ref.marginRight,\n          mt = _ref.marginTop,\n          mb = _ref.marginBottom;\n      var styleSheet = window.getComputedStyle(elem);\n      var parentSource = jframe.dataElemDescription.getSourceParent(targetSource);\n      var width = parseFloat(styleSheet.width) || 0;\n      var height = parseFloat(styleSheet.height) || 0; // let hw = wholeWidth;\n      // let hh = wholeHeight;\n\n      var marginLeft = (_parseFloat = parseFloat(styleSheet.marginLeft)) !== null && _parseFloat !== void 0 ? _parseFloat : 0;\n      var marginRight = (_parseFloat2 = parseFloat(styleSheet.marginRight)) !== null && _parseFloat2 !== void 0 ? _parseFloat2 : 0;\n      var marginTop = (_parseFloat3 = parseFloat(styleSheet.marginTop)) !== null && _parseFloat3 !== void 0 ? _parseFloat3 : 0;\n      var marginBottom = (_parseFloat4 = parseFloat(styleSheet.marginBottom)) !== null && _parseFloat4 !== void 0 ? _parseFloat4 : 0;\n      var wholeHeight = marginTop + marginBottom + height;\n      var wholeWidth = marginLeft + marginRight + width;\n      var wratio = 1;\n      var hratio = 1;\n      var s = jframe.dataElemDescription.getSourceParent(targetSource);\n\n      if (s) {\n        var _elem = jframe.source_block_element_map.getElementBySource(s);\n\n        var bounding = _elem.getBoundingClientRect();\n\n        var hw = bounding.width;\n        var hh = bounding.height;\n        wratio = wholeWidth / hw;\n        hratio = wholeHeight / hh;\n      }\n\n      marginLeft = ml !== null && ml !== void 0 ? ml : marginLeft;\n      marginRight = mr !== null && mr !== void 0 ? mr : marginRight;\n      marginTop = mt !== null && mt !== void 0 ? mt : marginTop;\n      marginBottom = mb !== null && mb !== void 0 ? mb : marginBottom;\n\n      if (parentSource) {\n        width = \"calc(\".concat(wratio * 100, \"% - \").concat(marginLeft + marginRight, \"px)\");\n        height = \"calc(\".concat(hratio * 100, \"% - \").concat(marginTop + marginBottom, \"px)\");\n      }\n\n      return {\n        width: width,\n        height: height,\n        marginLeft: \"\".concat(marginLeft, \"px\"),\n        marginRight: \"\".concat(marginRight, \"px\"),\n        marginTop: \"\".concat(marginTop, \"px\"),\n        marginBottom: \"\".concat(marginBottom, \"px\")\n      };\n    }\n  }, {\n    key: \"renderBlockTool\",\n    value: function renderBlockTool(targetBlock, appendChild) {\n      var _this2 = this;\n\n      if (this.accept(targetBlock)) {\n        var toggleMarginActive = function toggleMarginActive(elem, val) {\n          if (val) {\n            elem.setAttribute('active', true);\n          } else {\n            elem.removeAttribute('active');\n          }\n        };\n\n        var width = targetBlock.width,\n            height = targetBlock.height,\n            jframe = targetBlock.jframe,\n            targetSource = targetBlock.source;\n        var elem = jframe.source_block_element_map.getElementBySource(targetSource);\n        var marginBarLeft = document.createElement('div');\n        marginBarLeft.setAttribute('class', 'jframe-block-margin jframe-block-margin-horizontal');\n        Object.assign(marginBarLeft.style, {\n          left: 0,\n          top: height / 2 + 'px',\n          cursor: 'ew-resize'\n        });\n        var marginBarRight = document.createElement('div');\n        marginBarRight.setAttribute('class', 'jframe-block-margin jframe-block-margin-horizontal');\n        Object.assign(marginBarRight.style, {\n          left: width - 5 + 'px',\n          top: height / 2 + 'px',\n          cursor: 'ew-resize'\n        });\n        var marginBarTop = document.createElement('div');\n        marginBarTop.setAttribute('class', 'jframe-block-margin jframe-block-margin-vertical');\n        Object.assign(marginBarTop.style, {\n          left: width / 2 + 'px',\n          top: 0,\n          cursor: 'ns-resize'\n        });\n        var marginBarBottom = document.createElement('div');\n        marginBarBottom.setAttribute('class', 'jframe-block-margin jframe-block-margin-vertical');\n        Object.assign(marginBarBottom.style, {\n          left: width / 2 + 'px',\n          top: height - 5 + 'px',\n          cursor: 'ns-resize'\n        });\n        var styleSheet = window.getComputedStyle(elem);\n        var marginLeft = parseFloat(styleSheet.marginLeft) || 0;\n        var marginRight = parseFloat(styleSheet.marginRight) || 0;\n        var marginTop = parseFloat(styleSheet.marginTop) || 0;\n        var marginBottom = parseFloat(styleSheet.marginBottom) || 0;\n        var wholeHeight = marginTop + marginBottom + targetBlock.height;\n        var wholeWidth = marginLeft + marginRight + targetBlock.width;\n\n        var dispatcher = function dispatcher() {\n          /* const styleSheet = window.getComputedStyle(elem);\n          const parentSource = jframe.dataElemDescription.getSourceParent(targetBlock.source);\n          let width = parseFloat(styleSheet.width) || 0;\n          let height = parseFloat(styleSheet.height) || 0;\n          marginLeft = parseFloat(styleSheet.marginLeft) || 0;\n          marginRight = parseFloat(styleSheet.marginRight) || 0;\n          marginTop = parseFloat(styleSheet.marginTop) || 0;\n          marginBottom = parseFloat(styleSheet.marginBottom) || 0;\n          \n          wholeHeight = marginTop + marginBottom + height;\n          wholeWidth = marginLeft + marginRight + width;\n          \n          let wratio = 1;\n          let hratio = 1;\n          const s = jframe.dataElemDescription.getSourceParent(targetSource);\n          if(s) {\n              const elem = jframe.source_block_element_map.getElementBySource(s);\n              const bounding = elem.getBoundingClientRect();\n              const hw = bounding.width;\n              const hh = bounding.height;\n              wratio = wholeWidth / hw;\n              hratio = wholeHeight / hh;\n          }\n          if(parentSource) {\n              width = `calc(${wratio * 100}% - ${marginLeft+marginRight}px)`;\n              height = `calc(${hratio * 100}% - ${marginTop+marginBottom}px)`;\n          }*/\n          // const wratio = parseFloat(stylesheet.width) / hw * 100;\n          // const hratio = parseFloat(stylesheet.height) / hh * 100;\n          jframe.dispatchEvent(new _event_event__WEBPACK_IMPORTED_MODULE_1__[\"default\"]('elementsResized', {\n            elements: [_objectSpread({\n              targetBlock: targetBlock,\n              source: targetBlock === null || targetBlock === void 0 ? void 0 : targetBlock.source\n            }, _this2._calculateWidthAfterMarginChange({\n              jframe: jframe,\n              elem: elem,\n              targetSource: targetSource\n            }))]\n          }));\n          toggleMarginActive(marginBarLeft, false);\n          toggleMarginActive(marginBarRight, false);\n          toggleMarginActive(marginBarBottom, false);\n          toggleMarginActive(marginBarTop, false); // targetBlock.toggleMarginBarRectVisible(false, 'Left')\n          // targetBlock.toggleMarginBarRectVisible(false, 'Right')\n          // targetBlock.toggleMarginBarRectVisible(false, 'Top')\n          // targetBlock.toggleMarginBarRectVisible(false, 'Bottom')\n\n          jframe.IFM.toggleBlockHoverStyle(false);\n        };\n\n        jframe.bindDragdropListener(marginBarLeft, function () {\n          var styleSheet = window.getComputedStyle(elem);\n          marginLeft = parseFloat(styleSheet.marginLeft) || 0;\n          marginRight = parseFloat(styleSheet.marginRight) || 0;\n          wholeWidth = marginLeft + marginRight + targetBlock.width;\n          toggleMarginActive(marginBarLeft, true); // targetBlock.toggleMarginBarRectVisible(true, 'Left')\n        }, function (deltaX, deltaY) {\n          jframe.IFM.toggleBlockHoverStyle(true);\n          marginLeft = Math.max(0, Math.min(deltaX + marginLeft, wholeWidth - marginRight));\n          elem.style.width = \"\".concat(wholeWidth - marginLeft - marginRight, \"px\");\n          elem.style.marginLeft = \"\".concat(marginLeft, \"px\");\n        }, dispatcher);\n        jframe.bindDragdropListener(marginBarRight, function () {\n          var styleSheet = window.getComputedStyle(elem);\n          marginLeft = parseFloat(styleSheet.marginLeft) || 0;\n          marginRight = parseFloat(styleSheet.marginRight) || 0;\n          wholeWidth = marginLeft + marginRight + targetBlock.width;\n          toggleMarginActive(marginBarRight, true); // targetBlock.toggleMarginBarRectVisible(true, 'Right')\n        }, function (deltaX, deltaY) {\n          jframe.IFM.toggleBlockHoverStyle(true); // const elbounds = elem.getBoundingClientRect();\n\n          marginRight = Math.max(0, Math.min(-deltaX + marginRight, wholeWidth - marginLeft));\n          elem.style.width = \"\".concat(wholeWidth - marginLeft - marginRight, \"px\");\n          elem.style.marginRight = \"\".concat(marginRight, \"px\");\n        }, dispatcher);\n        jframe.bindDragdropListener(marginBarTop, function () {\n          var styleSheet = window.getComputedStyle(elem);\n          marginTop = parseFloat(styleSheet.marginTop) || 0;\n          marginBottom = parseFloat(styleSheet.marginBottom) || 0;\n          wholeHeight = marginTop + marginBottom + targetBlock.height;\n          toggleMarginActive(marginBarTop, true); // targetBlock.toggleMarginBarRectVisible(true, 'Top')\n        }, function (deltaX, deltaY) {\n          jframe.IFM.toggleBlockHoverStyle(true);\n          marginTop = Math.max(0, Math.min(deltaY + marginTop, wholeHeight - marginBottom));\n          elem.style.height = \"\".concat(wholeHeight - marginTop - marginBottom, \"px\");\n          elem.style.marginTop = \"\".concat(marginTop, \"px\");\n        }, dispatcher);\n        jframe.bindDragdropListener(marginBarBottom, function () {\n          var styleSheet = window.getComputedStyle(elem);\n          marginTop = parseFloat(styleSheet.marginTop) || 0;\n          marginBottom = parseFloat(styleSheet.marginBottom) || 0;\n          wholeHeight = marginTop + marginBottom + targetBlock.height;\n          toggleMarginActive(marginBarBottom, true); // targetBlock.toggleMarginBarRectVisible(true, 'Bottom')\n        }, function (deltaX, deltaY) {\n          jframe.IFM.toggleBlockHoverStyle(true);\n          marginBottom = Math.max(0, Math.min(marginBottom - deltaY, wholeHeight - marginTop));\n          elem.style.height = \"\".concat(wholeHeight - marginTop - marginBottom, \"px\");\n          elem.style.marginBottom = \"\".concat(marginBottom, \"px\");\n        }, dispatcher);\n        appendChild(marginBarLeft);\n        appendChild(marginBarRight);\n        appendChild(marginBarTop);\n        appendChild(marginBarBottom);\n        Object.assign(this, {\n          marginBarLeft: marginBarLeft,\n          marginBarRight: marginBarRight,\n          marginBarTop: marginBarTop,\n          marginBarBottom: marginBarBottom\n        });\n      }\n    }\n  }, {\n    key: \"onRefreshMargin\",\n    value: function onRefreshMargin(targetBlock) {\n      var width = targetBlock.width,\n          height = targetBlock.height,\n          marginLeft = targetBlock.marginLeft,\n          marginRight = targetBlock.marginRight,\n          marginTop = targetBlock.marginTop,\n          marginBottom = targetBlock.marginBottom;\n      var wholeWidth = width + marginLeft + marginRight;\n      var wholeHeight = height + marginTop + marginBottom;\n      var marginBarRectLeft = this.marginBarRectLeft,\n          marginBarRectRight = this.marginBarRectRight,\n          marginBarRectTop = this.marginBarRectTop,\n          marginBarRectBottom = this.marginBarRectBottom,\n          marginBarRectLeftContent = this.marginBarRectLeftContent,\n          marginBarRectRightContent = this.marginBarRectRightContent,\n          marginBarRectTopContent = this.marginBarRectTopContent,\n          marginBarRectBottomContent = this.marginBarRectBottomContent;\n      Object.assign(marginBarRectLeft.style, {\n        left: -marginLeft + 'px',\n        top: -marginTop + 'px',\n        width: marginLeft + 'px',\n        height: wholeHeight + 'px'\n      });\n      marginBarRectLeftContent.innerText = Math.round(marginLeft) + 'px';\n      Object.assign(marginBarRectRight.style, {\n        left: targetBlock.width + 'px',\n        top: -marginTop + 'px',\n        width: marginRight + 'px',\n        height: wholeHeight + 'px'\n      });\n      marginBarRectRightContent.innerText = Math.round(marginRight) + 'px';\n      Object.assign(marginBarRectTop.style, {\n        left: -marginLeft + 'px',\n        top: -marginTop + 'px',\n        width: wholeWidth + 'px',\n        height: marginTop + 'px'\n      });\n      marginBarRectTopContent.innerText = Math.round(marginTop) + 'px';\n      Object.assign(marginBarRectBottom.style, {\n        left: -marginLeft + 'px',\n        top: targetBlock.height + 'px',\n        width: wholeWidth + 'px',\n        height: marginBottom + 'px'\n      });\n      marginBarRectBottomContent.innerText = Math.round(marginBottom) + 'px';\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh(targetBlock) {\n      if (this.accept(targetBlock)) {\n        var marginBarLeft = this.marginBarLeft,\n            marginBarRight = this.marginBarRight,\n            marginBarTop = this.marginBarTop,\n            marginBarBottom = this.marginBarBottom;\n        var width = targetBlock.width,\n            height = targetBlock.height;\n        marginBarLeft.style.top = height / 2 + 'px';\n        marginBarRight.style.top = height / 2 + 'px';\n        marginBarRight.style.left = width - 5 + 'px';\n        marginBarTop.style.left = width / 2 + 'px';\n        marginBarBottom.style.left = width / 2 + 'px';\n        marginBarBottom.style.top = height - 5 + 'px'; // this.onRefreshMargin(targetBlock)\n      }\n    }\n  }, {\n    key: \"blockRenderer\",\n    value: function blockRenderer(targetBlock) {\n      var flag = this.accept(targetBlock);\n\n      if (flag) {\n        var _this$_renderMarginBa = this._renderMarginBarRect(targetBlock, 'marginLeft'),\n            marginBarRectLeft = _this$_renderMarginBa.marginBarRect,\n            marginBarRectLeftContent = _this$_renderMarginBa.marginBarContent;\n\n        var _this$_renderMarginBa2 = this._renderMarginBarRect(targetBlock, 'marginRight'),\n            marginBarRectRight = _this$_renderMarginBa2.marginBarRect,\n            marginBarRectRightContent = _this$_renderMarginBa2.marginBarContent;\n\n        var _this$_renderMarginBa3 = this._renderMarginBarRect(targetBlock, 'marginTop'),\n            marginBarRectTop = _this$_renderMarginBa3.marginBarRect,\n            marginBarRectTopContent = _this$_renderMarginBa3.marginBarContent;\n\n        var _this$_renderMarginBa4 = this._renderMarginBarRect(targetBlock, 'marginBottom'),\n            marginBarRectBottom = _this$_renderMarginBa4.marginBarRect,\n            marginBarRectBottomContent = _this$_renderMarginBa4.marginBarContent;\n\n        targetBlock.elem.appendChild(marginBarRectLeft);\n        targetBlock.elem.appendChild(marginBarRectRight);\n        targetBlock.elem.appendChild(marginBarRectTop);\n        targetBlock.elem.appendChild(marginBarRectBottom);\n        return {\n          render: function render(targetBlock) {\n            if (!flag) {\n              return;\n            }\n\n            var width = targetBlock.width,\n                height = targetBlock.height,\n                marginLeft = targetBlock.marginLeft,\n                marginRight = targetBlock.marginRight,\n                marginTop = targetBlock.marginTop,\n                marginBottom = targetBlock.marginBottom;\n            var wholeWidth = width + marginLeft + marginRight;\n            var wholeHeight = height + marginTop + marginBottom;\n            Object.assign(marginBarRectLeft.style, {\n              left: -marginLeft - 2 + 'px',\n              top: -marginTop - 2 + 'px',\n              width: marginLeft + 'px',\n              height: wholeHeight + 'px'\n            });\n            marginBarRectLeftContent.innerText = Math.round(marginLeft) + 'px';\n            Object.assign(marginBarRectRight.style, {\n              left: width - 2 + 'px',\n              top: -marginTop - 2 + 'px',\n              width: marginRight + 'px',\n              height: wholeHeight + 'px'\n            });\n            marginBarRectRightContent.innerText = Math.round(marginRight) + 'px';\n            Object.assign(marginBarRectTop.style, {\n              left: -marginLeft - 2 + 'px',\n              top: -marginTop - 2 + 'px',\n              width: wholeWidth + 'px',\n              height: marginTop + 'px'\n            });\n            marginBarRectTopContent.innerText = Math.round(marginTop) + 'px';\n            Object.assign(marginBarRectBottom.style, {\n              left: -marginLeft - 2 + 'px',\n              top: height - 2 + 'px',\n              width: wholeWidth + 'px',\n              height: marginBottom + 'px'\n            });\n            marginBarRectBottomContent.innerText = Math.round(marginBottom) + 'px';\n          }\n        };\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_renderMarginBarRect\",\n    value: function _renderMarginBarRect(targetBlock, styleProperty) {\n      var _this3 = this;\n\n      var marginBarRect = document.createElement('div');\n      marginBarRect.setAttribute('class', 'jframe-block-margin-rect');\n      var marginBarContent = document.createElement('div');\n      marginBarContent.setAttribute('class', 'jframe-block-margin-rect-content');\n      marginBarRect.appendChild(marginBarContent); // marginBarRect.setAttribute('visible', true)\n\n      var oldContent;\n\n      var _blurHandler = function _blurHandler() {\n        console.log('blur', marginBarContent.innerText);\n        var num = parseFloat(marginBarContent.innerHTML);\n\n        if (num) {\n          var jframe = targetBlock.jframe;\n          var elem = jframe.source_block_element_map.getElementBySource(targetBlock.source); // const pixel = `${num}px`;\n\n          jframe.dispatchEvent(new _event_event__WEBPACK_IMPORTED_MODULE_1__[\"default\"]('elementsResized', {\n            elements: [_objectSpread({\n              targetBlock: targetBlock,\n              source: targetBlock.source\n            }, _this3._calculateWidthAfterMarginChange(_defineProperty({\n              jframe: jframe,\n              elem: elem,\n              targetSource: targetBlock.source\n            }, styleProperty, num)))]\n          }));\n        } else {\n          marginBarContent.innerText = oldContent;\n        }\n\n        marginBarContent.removeEventListener('keydown', _f);\n        marginBarContent.setAttribute('contenteditable', false);\n      };\n\n      var _f = function _f(e) {\n        if (e.key === 'Enter') {\n          _blurHandler();\n        }\n\n        ;\n      };\n\n      marginBarRect.addEventListener('mouseenter', function () {\n        // if(!this._hoverEnable) return;\n        if (_this3.processingMarginRectVisible) return;\n        marginBarRect.setAttribute('visible', true);\n      });\n      marginBarRect.addEventListener('mouseleave', function () {\n        if (_this3.processingMarginRectVisible) return;\n        marginBarRect.removeAttribute('visible');\n        marginBarContent.removeEventListener(blur, _blurHandler, {\n          once: true\n        });\n        marginBarContent.setAttribute('contenteditable', false);\n      });\n      marginBarRect.addEventListener('click', function () {\n        oldContent = marginBarContent.innerText;\n        marginBarContent.setAttribute('contenteditable', true);\n        marginBarContent.addEventListener('blur', _blurHandler, {\n          once: true\n        });\n        marginBarContent.addEventListener('keydown', _f);\n        var selObj = window.getSelection();\n        var range = document.createRange();\n        var rangeText = marginBarContent.firstChild;\n        range.selectNode(rangeText);\n        selObj.removeAllRanges();\n        selObj.addRange(range);\n      });\n      return {\n        marginBarRect: marginBarRect,\n        marginBarContent: marginBarContent\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this4 = this;\n\n      ELEMENT_KEYS.forEach(function (k) {\n        if (_this4[k]) {\n          _this4[k].remove();\n        }\n      });\n    }\n  }]);\n\n  return BlockBoxMargin;\n}(_tool__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BlockBoxMargin);\n\n//# sourceURL=webpack://pure/../../src/core/toolbox/blockbox-margin.js?");

/***/ }),

/***/ "../../src/core/toolbox/blockbox-resizer.js":
/*!**************************************************!*\
  !*** ../../src/core/toolbox/blockbox-resizer.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tool */ \"../../src/core/toolbox/tool.js\");\n/* harmony import */ var _event_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../event/event */ \"../../src/core/event/event.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\nvar BlockBoxResizer = /*#__PURE__*/function (_Tool) {\n  _inherits(BlockBoxResizer, _Tool);\n\n  var _super = _createSuper(BlockBoxResizer);\n\n  function BlockBoxResizer(configs) {\n    var _this;\n\n    _classCallCheck(this, BlockBoxResizer);\n\n    _this = _super.call(this);\n    _this.accept = configs.accept; // this.targetBlock = undefined;\n\n    _this.resizeMeta = {\n      lastX: undefined,\n      lastY: undefined\n    };\n    return _this;\n  }\n\n  _createClass(BlockBoxResizer, [{\n    key: \"renderBlockTool\",\n    value: function renderBlockTool(targetBlock, appendChild) {\n      var _this2 = this;\n\n      if (this.accept(targetBlock)) {\n        var resizer = document.createElement('div');\n        var width = targetBlock.width,\n            height = targetBlock.height;\n        resizer.setAttribute('class', 'jframe-block-resizer');\n        resizer.style.transform = \"translate(\".concat(width - 5, \"px, \").concat(height - 5, \"px)\");\n        resizer.addEventListener('pointerdown', function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n          var clientX = e.clientX,\n              clientY = e.clientY;\n          Object.assign(_this2.resizeMeta, {\n            lastX: clientX,\n            lastY: clientY\n          });\n          var jframe = targetBlock.jframe;\n          var targetSource = targetBlock.source;\n          var elem = jframe.source_block_element_map.getElementBySource(targetSource);\n          var processing = false;\n\n          var f = function (e) {\n            if (processing) {\n              return;\n            }\n\n            processing = true;\n            var clientX = e.clientX,\n                clientY = e.clientY;\n            var _this2$resizeMeta = _this2.resizeMeta,\n                lastX = _this2$resizeMeta.lastX,\n                lastY = _this2$resizeMeta.lastY;\n            var deltaX = (clientX - lastX) / jframe.scale;\n            var deltaY = (clientY - lastY) / jframe.scale;\n            jframe.dispatchEvent(new _event_event__WEBPACK_IMPORTED_MODULE_1__[\"default\"]('elementResizing', {\n              block: targetBlock,\n              source: targetBlock === null || targetBlock === void 0 ? void 0 : targetBlock.source,\n              deltaX: deltaX,\n              deltaY: deltaY\n            }));\n            var elbounds = elem.getBoundingClientRect();\n            var currWidth = elbounds.width + deltaX;\n            var currHeight = elbounds.height + deltaY;\n            elem.style.width = \"\".concat(elbounds.width + deltaX, \"px\");\n            elem.style.height = \"\".concat(elbounds.height + deltaY, \"px\");\n            Object.assign(_this2.resizeMeta, {\n              lastX: clientX,\n              lastY: clientY,\n              currWidth: currWidth,\n              currHeight: currHeight\n            });\n            processing = false;\n          }.bind(_this2);\n\n          document.addEventListener('pointermove', f);\n          document.addEventListener('pointerup', function (event) {\n            console.log('pointerup');\n            var _this2$resizeMeta2 = _this2.resizeMeta,\n                currWidth = _this2$resizeMeta2.currWidth,\n                currHeight = _this2$resizeMeta2.currHeight;\n            Object.assign(_this2.resizeMeta, {\n              lastX: undefined,\n              lastY: undefined\n            });\n            document.removeEventListener('pointermove', f);\n            jframe.dispatchEvent(new _event_event__WEBPACK_IMPORTED_MODULE_1__[\"default\"]('elementsResized', {\n              elements: [{\n                targetBlock: targetBlock,\n                source: targetBlock === null || targetBlock === void 0 ? void 0 : targetBlock.source,\n                width: elem.style.width,\n                height: elem.style.height\n              }]\n            }));\n          }, {\n            once: true\n          });\n        });\n        appendChild(resizer);\n        this.el = resizer;\n      }\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh(targetBlock) {\n      if (this.accept(targetBlock)) {\n        var width = targetBlock.width,\n            height = targetBlock.height;\n        this.el.style.transform = \"translate(\".concat(width - 5, \"px, \").concat(height - 5, \"px)\");\n      }\n    }\n  }]);\n\n  return BlockBoxResizer;\n}(_tool__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BlockBoxResizer);\n\n//# sourceURL=webpack://pure/../../src/core/toolbox/blockbox-resizer.js?");

/***/ }),

/***/ "../../src/core/toolbox/blockbox-splitter.js":
/*!***************************************************!*\
  !*** ../../src/core/toolbox/blockbox-splitter.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tool */ \"../../src/core/toolbox/tool.js\");\n/* harmony import */ var _event_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../event/event */ \"../../src/core/event/event.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\nvar ELEMENT_KEYS = ['vline', 'splitterV', 'hline', 'splitterH', 'indicatorPre', 'indicatorAfter'];\n\nvar BlockBoxSplitter = /*#__PURE__*/function (_Tool) {\n  _inherits(BlockBoxSplitter, _Tool);\n\n  var _super = _createSuper(BlockBoxSplitter);\n\n  function BlockBoxSplitter(configs) {\n    var _this;\n\n    _classCallCheck(this, BlockBoxSplitter);\n\n    _this = _super.call(this);\n    _this.accept = configs.accept;\n    _this.getDirection = configs.getDirection;\n    _this.resizeMeta = {\n      lastX: undefined,\n      lastY: undefined,\n      min: undefined,\n      max: undefined\n    };\n    return _this;\n  }\n\n  _createClass(BlockBoxSplitter, [{\n    key: \"renderBoundsIndicator\",\n    value: function renderBoundsIndicator() {\n      var indicator = document.createElement('div');\n      indicator.setAttribute('class', 'jframe-block-indicator');\n      indicator.style.display = 'none';\n      var indicatorNumber = document.createElement('div');\n      indicatorNumber.setAttribute('class', 'jframe-block-indicator-number');\n      indicator.appendChild(indicatorNumber);\n      return {\n        indicator: indicator,\n        indicatorNumber: indicatorNumber\n      };\n    }\n  }, {\n    key: \"renderSplitterV\",\n    value: function renderSplitterV(targetBlock) {\n      var _this2 = this;\n\n      var width = targetBlock.width,\n          height = targetBlock.height,\n          jframe = targetBlock.jframe,\n          source = targetBlock.source,\n          elem = targetBlock.elem,\n          y = targetBlock.y;\n      var vline = document.createElement('div');\n      vline.setAttribute('class', 'jframe-block-splitter-line jframe-line-vertical');\n      vline.style.height = height + 'px';\n      vline.style.left = width / 2 + 'px';\n      var splitterV = document.createElement('div');\n      splitterV.setAttribute('class', 'jframe-block-splitter jframe-block-splitter-vertial');\n      splitterV.style.left = width / 2 + 'px';\n      splitterV.style.top = '8px';\n      splitterV.addEventListener('mouseenter', function () {\n        vline.style.display = 'block';\n      });\n\n      var f = function f() {\n        vline.style.display = 'none';\n      };\n\n      splitterV.addEventListener('mouseleave', f);\n\n      var _this$renderBoundsInd = this.renderBoundsIndicator(),\n          indicatorPre = _this$renderBoundsInd.indicator,\n          indicatorNumberPre = _this$renderBoundsInd.indicatorNumber;\n\n      var _this$renderBoundsInd2 = this.renderBoundsIndicator(),\n          indicatorAfter = _this$renderBoundsInd2.indicator,\n          indicatorNumberAfter = _this$renderBoundsInd2.indicatorNumber;\n\n      Object.assign(indicatorNumberPre.style, {\n        top: 0,\n        left: '50%'\n      });\n      Object.assign(indicatorNumberAfter.style, {\n        top: 0,\n        left: '50%'\n      });\n\n      function minmax(num) {\n        return Math.max(0, Math.min(width, num));\n      }\n\n      var startLeft = width / 2;\n      jframe.bindDragdropListener(splitterV, function () {\n        splitterV.removeEventListener('mouseleave', f);\n\n        _this2._toggleSplitter(false);\n\n        elem.appendChild(indicatorPre);\n        elem.appendChild(indicatorAfter);\n      }, function (deltaX, deltaY, point) {\n        startLeft = minmax(startLeft + deltaX);\n        vline.style.left = \"\".concat(startLeft, \"px\");\n        Object.assign(indicatorPre.style, {\n          width: startLeft + 'px',\n          height: 0,\n          left: 0,\n          display: 'block',\n          transform: \"translate(0px, \".concat(point[1] - y, \"px)\")\n        });\n        Object.assign(indicatorAfter.style, {\n          width: width - startLeft + 'px',\n          left: startLeft + 'px',\n          height: 0,\n          display: 'block',\n          transform: \"translate(0px, \".concat(point[1] - y, \"px)\")\n        });\n        indicatorNumberPre.innerText = \"\".concat(Math.round(startLeft / width * 100), \"%(\").concat(Math.round(startLeft), \"px)\");\n        indicatorNumberAfter.innerText = \"\".concat(Math.round((width - startLeft) / width * 100), \"%(\").concat(Math.round(width - startLeft), \"px)\");\n      }, function () {\n        indicatorPre.style.display = 'none';\n        indicatorAfter.style.display = 'none';\n        indicatorPre.remove();\n        indicatorAfter.remove();\n        jframe.dispatchEvent(new _event_event__WEBPACK_IMPORTED_MODULE_1__[\"default\"]('elementSplit', {\n          block: targetBlock,\n          source: targetBlock === null || targetBlock === void 0 ? void 0 : targetBlock.source,\n          dir: 'row',\n          splitRatio: startLeft / width\n        }));\n        f();\n      });\n      return {\n        vline: vline,\n        splitterV: splitterV\n      };\n    }\n  }, {\n    key: \"renderSplitterH\",\n    value: function renderSplitterH(targetBlock) {\n      var _this3 = this;\n\n      var width = targetBlock.width,\n          height = targetBlock.height,\n          jframe = targetBlock.jframe,\n          elem = targetBlock.elem,\n          y = targetBlock.y;\n      var hline = document.createElement('div');\n      hline.setAttribute('class', 'jframe-block-splitter-line jframe-line-horizontal');\n      hline.style.width = width + 'px';\n      hline.style.top = height / 2 + 'px';\n      var splitterH = document.createElement('div');\n      splitterH.setAttribute('class', 'jframe-block-splitter jframe-block-splitter-horizontal');\n      splitterH.style.left = width - 48 + 'px';\n      splitterH.style.top = height / 2 + 'px';\n      splitterH.addEventListener('mouseenter', function () {\n        hline.style.display = 'block';\n      });\n\n      var f = function f() {\n        hline.style.display = 'none';\n      };\n\n      splitterH.addEventListener('mouseleave', f); // splitterH.addEventListener('click', (e) => {\n      //     e.stopPropagation();\n      //     jframe.dispatchEvent(new JFrameEvent('elementSplit', {\n      //         block: targetBlock,\n      //         source: targetBlock?.source,\n      //         dir: 'column',\n      //     }))\n      //     this._toggleSplitter(false);\n      // });\n\n      var _this$renderBoundsInd3 = this.renderBoundsIndicator(),\n          indicatorPre = _this$renderBoundsInd3.indicator,\n          indicatorNumberPre = _this$renderBoundsInd3.indicatorNumber;\n\n      var _this$renderBoundsInd4 = this.renderBoundsIndicator(),\n          indicatorAfter = _this$renderBoundsInd4.indicator,\n          indicatorNumberAfter = _this$renderBoundsInd4.indicatorNumber;\n\n      Object.assign(indicatorNumberPre.style, {\n        top: '50%',\n        left: 0\n      });\n      Object.assign(indicatorNumberAfter.style, {\n        top: '50%',\n        left: 0\n      });\n\n      function minmax(num) {\n        return Math.max(0, Math.min(height, num));\n      }\n\n      var start = height / 2;\n      jframe.bindDragdropListener(splitterH, function () {\n        splitterH.removeEventListener('mouseleave', f);\n\n        _this3._toggleSplitter(false);\n\n        elem.appendChild(indicatorPre);\n        elem.appendChild(indicatorAfter);\n      }, function (deltaX, deltaY, point) {\n        start = minmax(start + deltaY);\n        hline.style.top = \"\".concat(start, \"px\");\n        Object.assign(indicatorPre.style, {\n          width: 0,\n          top: 0,\n          height: start + 'px',\n          display: 'block',\n          transform: \"translate(\".concat(point[0] - y, \"px, 0px)\")\n        });\n        Object.assign(indicatorAfter.style, {\n          width: 0,\n          top: start + 'px',\n          height: height - start + 'px',\n          display: 'block',\n          transform: \"translate(\".concat(point[0] - y, \"px, 0px)\")\n        });\n        indicatorNumberPre.innerText = \"\".concat(Math.round(start / height * 100), \"%(\").concat(Math.round(start), \"px)\");\n        indicatorNumberAfter.innerText = \"\".concat(Math.round((height - start) / height * 100), \"%(\").concat(Math.round(height - start), \"px)\");\n      }, function () {\n        indicatorPre.style.display = 'none';\n        indicatorAfter.style.display = 'none';\n        indicatorPre.remove();\n        indicatorAfter.remove();\n        jframe.dispatchEvent(new _event_event__WEBPACK_IMPORTED_MODULE_1__[\"default\"]('elementSplit', {\n          block: targetBlock,\n          source: targetBlock === null || targetBlock === void 0 ? void 0 : targetBlock.source,\n          dir: 'column',\n          splitRatio: start / height\n        }));\n        f();\n      }); // jframe.bindDragdropListener(splitterH, () => {\n      //     splitterH.removeEventListener('mouseleave', f);\n      //     this._toggleSplitter(false);\n      // }, (deltaX, deltaY) => {\n      //     start = minmax(start + deltaY);\n      //     hline.style.top = `${start}px`;\n      // }, () => {\n      //     jframe.dispatchEvent(new JFrameEvent('elementSplit', {\n      //         block: targetBlock,\n      //         source: targetBlock?.source,\n      //         dir: 'column',\n      //         splitRatio: start / height,\n      //     }))\n      //     f();\n      // });\n\n      return {\n        hline: hline,\n        splitterH: splitterH\n      };\n    }\n  }, {\n    key: \"refreshSplitter\",\n    value: function refreshSplitter(targetBlock) {\n      var width = targetBlock.width,\n          height = targetBlock.height;\n      Object.assign(this.splitterV.style, {\n        left: width / 2 + 'px',\n        top: '8px'\n      });\n      Object.assign(this.vline.style, {\n        height: height + 'px',\n        left: width / 2 + 'px'\n      });\n      Object.assign(this.splitterH.style, {\n        left: width - 48 + 'px',\n        top: height / 2 + 'px'\n      });\n      Object.assign(this.hline.style, {\n        width: width + 'px',\n        top: height / 2 + 'px'\n      });\n    }\n  }, {\n    key: \"renderBlockTool\",\n    value: function renderBlockTool(targetBlock, appendChild) {\n      if (this.accept(targetBlock.source)) {\n        var jframe = targetBlock.jframe,\n            source = targetBlock.source;\n        var children = jframe.dataElemDescription.getSourceChildren(source);\n\n        var _this$renderSplitterV = this.renderSplitterV(targetBlock),\n            vline = _this$renderSplitterV.vline,\n            splitterV = _this$renderSplitterV.splitterV;\n\n        var _this$renderSplitterH = this.renderSplitterH(targetBlock),\n            hline = _this$renderSplitterH.hline,\n            splitterH = _this$renderSplitterH.splitterH;\n\n        appendChild(vline);\n        appendChild(hline);\n        appendChild(splitterV);\n        appendChild(splitterH);\n        Object.assign(this, {\n          vline: vline,\n          splitterV: splitterV,\n          hline: hline,\n          splitterH: splitterH\n        });\n\n        if (children.length > 0 && this.accept(children[0])) {\n          this._toggleSplitter(false);\n        }\n\n        Object.assign(this, {\n          appendChild: appendChild\n        });\n      }\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh(targetBlock) {\n      if (this.accept(targetBlock.source)) {\n        var jframe = targetBlock.jframe,\n            source = targetBlock.source;\n        var children = jframe.dataElemDescription.getSourceChildren(source);\n\n        if (children.length > 0 && this.accept(children[0])) {\n          this._toggleSplitter(false);\n        } else {\n          this.refreshSplitter(targetBlock);\n        }\n      } else {\n        this._toggleSplitter(false);\n      }\n    }\n  }, {\n    key: \"_toggleSplitter\",\n    value: function _toggleSplitter(val) {\n      var _this4 = this;\n\n      ['splitterV', 'splitterH'].forEach(function (k) {\n        if (_this4[k]) {\n          _this4[k].style.display = val ? 'block' : 'none';\n        }\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this5 = this;\n\n      ELEMENT_KEYS.forEach(function (k) {\n        if (_this5[k]) {\n          _this5[k].remove();\n        }\n      });\n\n      if (this.splitterLines) {\n        this.splitterLines.forEach(function (l) {\n          return l.remove();\n        });\n      }\n    }\n  }]);\n\n  return BlockBoxSplitter;\n}(_tool__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BlockBoxSplitter);\n\n//# sourceURL=webpack://pure/../../src/core/toolbox/blockbox-splitter.js?");

/***/ }),

/***/ "../../src/core/toolbox/index.js":
/*!***************************************!*\
  !*** ../../src/core/toolbox/index.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BlockAlignment\": () => (/* reexport safe */ _block_alignment__WEBPACK_IMPORTED_MODULE_7__[\"default\"]),\n/* harmony export */   \"BlockBoxContentEditor\": () => (/* reexport safe */ _blockbox_conent__WEBPACK_IMPORTED_MODULE_6__[\"default\"]),\n/* harmony export */   \"BlockBoxMargin\": () => (/* reexport safe */ _blockbox_margin__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),\n/* harmony export */   \"BlockBoxResizer\": () => (/* reexport safe */ _blockbox_resizer__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   \"BlockBoxSplitter\": () => (/* reexport safe */ _blockbox_splitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   \"BlockDelete\": () => (/* reexport safe */ _block_delete__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   \"BlockSize\": () => (/* reexport safe */ _block_size__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   \"BlockTitle\": () => (/* reexport safe */ _block_title__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _block_title__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./block-title */ \"../../src/core/toolbox/block-title.js\");\n/* harmony import */ var _block_size__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./block-size */ \"../../src/core/toolbox/block-size.js\");\n/* harmony import */ var _block_delete__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./block-delete */ \"../../src/core/toolbox/block-delete.js\");\n/* harmony import */ var _blockbox_resizer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./blockbox-resizer */ \"../../src/core/toolbox/blockbox-resizer.js\");\n/* harmony import */ var _blockbox_splitter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./blockbox-splitter */ \"../../src/core/toolbox/blockbox-splitter.js\");\n/* harmony import */ var _blockbox_margin__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./blockbox-margin */ \"../../src/core/toolbox/blockbox-margin.js\");\n/* harmony import */ var _blockbox_conent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./blockbox-conent */ \"../../src/core/toolbox/blockbox-conent.js\");\n/* harmony import */ var _block_alignment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./block-alignment */ \"../../src/core/toolbox/block-alignment.js\");\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://pure/../../src/core/toolbox/index.js?");

/***/ }),

/***/ "../../src/core/toolbox/tool.js":
/*!**************************************!*\
  !*** ../../src/core/toolbox/tool.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar Tool = /*#__PURE__*/function () {\n  function Tool() {\n    _classCallCheck(this, Tool);\n\n    this.el = undefined;\n  }\n\n  _createClass(Tool, [{\n    key: \"renderToolbox\",\n    value: function renderToolbox(targetBlock, appendChild) {}\n  }, {\n    key: \"renderBlockTool\",\n    value: function renderBlockTool(targetBlock) {}\n  }, {\n    key: \"renderFrame\",\n    value: function renderFrame(targetBlock, appendChild) {}\n  }, {\n    key: \"refresh\",\n    value: function refresh(targetBlock) {}\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.el) {\n        this.el.remove();\n      }\n    }\n  }]);\n\n  return Tool;\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Tool);\n\n//# sourceURL=webpack://pure/../../src/core/toolbox/tool.js?");

/***/ }),

/***/ "../../src/utils/functions.js":
/*!************************************!*\
  !*** ../../src/utils/functions.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"distToSegment\": () => (/* binding */ distToSegment),\n/* harmony export */   \"distToSegmentSquared\": () => (/* binding */ distToSegmentSquared)\n/* harmony export */ });\nfunction sqr(x) {\n  return x * x;\n}\n\nfunction dist2(v, w) {\n  return sqr(v.x - w.x) + sqr(v.y - w.y);\n}\n\nfunction distToSegmentSquared(p, v, w) {\n  var l2 = dist2(v, w);\n  if (l2 == 0) return dist2(p, v);\n  var t = ((p.x - v.x) * (w.x - v.x) + (p.y - v.y) * (w.y - v.y)) / l2;\n  t = Math.max(0, Math.min(1, t));\n  return dist2(p, {\n    x: v.x + t * (w.x - v.x),\n    y: v.y + t * (w.y - v.y)\n  });\n}\nfunction distToSegment(p, v, w) {\n  return Math.sqrt(distToSegmentSquared(p, v, w));\n}\n\n//# sourceURL=webpack://pure/../../src/utils/functions.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!../../src/style/style.css":
/*!***********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!../../src/style/style.css ***!
  \***********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _demo_pure_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../demo/pure/node_modules/css-loader/dist/runtime/noSourceMaps.js */ \"./node_modules/css-loader/dist/runtime/noSourceMaps.js\");\n/* harmony import */ var _demo_pure_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_demo_pure_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _demo_pure_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../demo/pure/node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _demo_pure_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_demo_pure_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _demo_pure_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../demo/pure/node_modules/css-loader/dist/runtime/getUrl.js */ \"./node_modules/css-loader/dist/runtime/getUrl.js\");\n/* harmony import */ var _demo_pure_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_demo_pure_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);\n// Imports\n\n\n\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! ./justify-start.png */ \"../../src/style/justify-start.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(/* asset import */ __webpack_require__(/*! ./justify-end.png */ \"../../src/style/justify-end.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(/* asset import */ __webpack_require__(/*! ./direction-column.png */ \"../../src/style/direction-column.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(/* asset import */ __webpack_require__(/*! ./alignment-start.png */ \"../../src/style/alignment-start.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_4___ = new URL(/* asset import */ __webpack_require__(/*! ./alignment-center.png */ \"../../src/style/alignment-center.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_5___ = new URL(/* asset import */ __webpack_require__(/*! ./alignment-end.png */ \"../../src/style/alignment-end.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_6___ = new URL(/* asset import */ __webpack_require__(/*! ./delete.png */ \"../../src/style/delete.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_7___ = new URL(/* asset import */ __webpack_require__(/*! ./splitV.png */ \"../../src/style/splitV.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_8___ = new URL(/* asset import */ __webpack_require__(/*! ./splitH.png */ \"../../src/style/splitH.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_EXPORT___ = _demo_pure_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_demo_pure_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = _demo_pure_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = _demo_pure_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = _demo_pure_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = _demo_pure_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = _demo_pure_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = _demo_pure_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_5___);\nvar ___CSS_LOADER_URL_REPLACEMENT_6___ = _demo_pure_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_6___);\nvar ___CSS_LOADER_URL_REPLACEMENT_7___ = _demo_pure_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_7___);\nvar ___CSS_LOADER_URL_REPLACEMENT_8___ = _demo_pure_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_8___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".jframe-overlayer {\\n    transform-origin: top left;\\n    position: absolute;\\n    top:0;\\n    left: 0;\\n    user-select: none;\\n    border: 2px solid transparent;\\n    user-select: none;\\n}\\n\\n.jframe-overlayer[disablehover=true] .jframe-block {\\n    background: transparent!important;\\n} \\n\\n.jframe-block{\\n    position:absolute;\\n    outline: 1px dashed rgba(170,170,170,0.7);\\n    outline-offset: -2px;\\n    border: 2px solid transparent;\\n    box-sizing: border-box;\\n    user-select: none;\\n}\\n\\n.jframe-block:hover {\\n    border: 2px solid #4e75ec;\\n    background-color: rgba(235, 240, 255, 0.6);\\n}\\n.jframe-block[hover] {\\n    /* border: 2px solid #4e75ec; */\\n    background-color: rgba(235, 240, 255, 0.6);\\n}\\n.jframe-block[focus] {\\n    border: 2px solid #4e75ec;\\n}\\n.jframe-block[accept] {\\n    border: 2px solid #F2BF46;\\n}\\n.jframe-block[dragging] {\\n    background-color: rgba(0,0,0,0.4);\\n}\\n.jframe-block-resizer{\\n    width: 7px;\\n    height: 7px;\\n    background-color: #FFFFFF;\\n    border: 1px solid #4E75EC;\\n    box-sizing: border-box;\\n    position: absolute;\\n    cursor: nwse-resize;\\n}\\n.jframe-fence {\\n    display: none;\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    width: 0px;\\n    height: 0px;\\n    transform: translate(0,0);\\n    transition: all .5s;\\n    border: 1px solid red;\\n    /* background-color: #43E863; */\\n    z-index: 1000;\\n}\\n\\n.jframe-fence[accept] {\\n    border-color: #43E863;\\n}\\n\\n.jframe-control-point {\\n    position: absolute;\\n    right: 0;\\n    bottom: 0;\\n    width: 8px;\\n    height: 8px;\\n    background: #fff;\\n}\\n\\n.jframe-frametool{\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    width: 0;\\n    height: 0;\\n    transform: translate(0, -100%);\\n    z-index: 100000;\\n}\\n\\n.jframe-toolbox {\\n    display: none;\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    transform: translate(0, -100%);\\n    z-index: 100000;\\n}\\n.jframe-toolbox > * + * {\\n    margin-left: 6px;\\n}\\n\\n.jframe-blocktool {\\n    display: none;\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    width: 0;\\n    height: 0;\\n    transform: translate(0, -100%);\\n    z-index: 100000;\\n}\\n\\n.jframe-toolbtn {\\n    display: inline-block;\\n    background-color: #4E75EC;\\n    padding: 6px;\\n    color: #fff;\\n    font-size: 12px;\\n    border-radius: 5px;\\n    border: 1px solid transparent;\\n    margin-bottom: 6px;\\n}\\n\\n.jframe-toolbtn-group-item  {\\n    display: inline-block;\\n    height: 9px;\\n    width: 9px;\\n    cursor: pointer; \\n    background-position: center;\\n    background-size: 150%;\\n    background-repeat: no-repeat;\\n}\\n.jframe-toolbtn-group-item + .jframe-toolbtn-group-item  {\\n    margin-left: 3px;\\n}\\n.jframe-toolbtn-group-item[light=true] {\\n    opacity: 1;\\n}\\n.jframe-toolbtn-group-item[light=false] {\\n    opacity: 0.6;\\n}\\n.jframe-toolbtn-group-justify-start {\\n    background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n}\\n.jframe-toolbtn-group-justify-end {\\n    background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");\\n}\\n.jframe-toolbtn-group-column {\\n    background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \");\\n}\\n.jframe-toolbtn-group-alignment-start {\\n    background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \");\\n}\\n.jframe-toolbtn-group-alignment-center {\\n    background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \");\\n}\\n.jframe-toolbtn-group-alignment-end {\\n    background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \");\\n}\\n\\n\\n.jframe-title-wrapper{\\n    position: relative;\\n    display: inline-block;\\n    margin-bottom: 6px;\\n}\\n.jframe-title-wrapper .jframe-title + .jframe-title{\\n    margin-top: 3px;\\n}\\n.jframe-title {\\n    background-color: #4E75EC;\\n    padding: 6px;\\n    color: #fff;\\n    font-size: 12px;\\n    border-radius: 5px;\\n    border: 1px solid transparent;\\n    display: none;\\n}\\n.jframe-title[first-title]{\\n    display: block;\\n}\\n.jframe-title-wrapper:hover .jframe-title{\\n    display: block;\\n}\\n.jframe-deleteBtn {\\n    vertical-align: bottom;\\n    height: 14px;\\n    width: 14px;\\n    cursor: pointer;\\n    background: url(\" + ___CSS_LOADER_URL_REPLACEMENT_6___ + \") center/50% no-repeat #4E75EC;\\n}\\n\\n.jframe-block-splitter {\\n    position: absolute;\\n    width: 40px;\\n    height: 40px;\\n    box-shadow: 0px 0px 5px #BBCCFF;\\n    border-radius: 5px;\\n    border: 1px solid transparent;\\n    background-color: transparent;\\n    background-size: 24px 24px;\\n    background-repeat: no-repeat;\\n    background-position: center;\\n    cursor: pointer;\\n}\\n.jframe-block-splitter:hover {\\n    background-color: rgba(187, 204, 255, 0.4)\\n}\\n.jframe-block-splitter.jframe-block-splitter-vertial{\\n    transform: translate(-50%, 0);\\n    background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_7___ + \");\\n}\\n.jframe-block-splitter.jframe-block-splitter-horizontal{\\n    transform: translate(0, -50%);\\n    background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_8___ + \");\\n}\\n.jframe-block-splitter-line.jframe-line-vertical:hover {\\n    cursor: ew-resize;\\n}\\n.jframe-block-splitter-line.jframe-line-horizontal:hover {\\n    cursor: ns-resize;\\n}\\n.jframe-block-splitter-line.jframe-line-vertical{\\n    position: absolute; \\n    display: none;\\n    border-left: 2px dashed #BBCCFF;\\n    /* height: 100%; */\\n    width: 0;\\n    /* left: 50%; */\\n    transform: translate(-1px, 0);\\n}\\n.jframe-block-splitter-line.jframe-line-horizontal{\\n    position: absolute; \\n    display: none;\\n    border-top: 2px dashed #BBCCFF;\\n    /* width: 100%; */\\n    height: 0;\\n    /* top: 50%; */\\n    transform: translate(0, -1px);\\n}\\n.jframe-block-line.jframe-line-vertical:hover,\\n.jframe-block-line.jframe-line-vertical[active],\\n.jframe-block-line.jframe-line-horizontal:hover,\\n.jframe-block-line.jframe-line-horizontal[active]  {\\n    border-color: #43E863;\\n}\\n.jframe-block-line.jframe-line-vertical{\\n    position: absolute; \\n    border-left: 2px solid #BBCCFF;\\n    width: 0;\\n    transform: translate(-1px, 0);\\n    cursor: ew-resize;\\n}\\n\\n.jframe-block-line.jframe-line-horizontal{\\n    position: absolute; \\n    border-top: 2px solid #BBCCFF;\\n    height: 0;\\n    transform: translate(0, -1px);\\n    cursor: ns-resize;\\n}\\n\\n.jframe-block-indicator {\\n    display: none;\\n    position: absolute;\\n    border: 1px dashed #4E75EC;\\n    width: 0;\\n    height: 0;\\n    left: 0;\\n    top: 0;\\n}\\n.jframe-block-indicator-number{ \\n    position: absolute;\\n    transform: translate(-50%, -50%);\\n    font-size: 12px;\\n    padding: 5px 9px;\\n    background-color: #EBF0FF;\\n    color: #000;\\n}\\n\\n.jframe-block-margin {\\n    position: absolute;\\n    background-color: #4E75EC;\\n}\\n.jframe-block-margin:hover,\\n.jframe-block-margin[active] {\\n    background-color: #43E863;\\n}\\n\\n.jframe-block-margin-horizontal {\\n    width: 5px;\\n    height: 52px;\\n    transform: translate(0, -50%);\\n}\\n.jframe-block-margin-vertical {\\n    width: 52px;\\n    height: 5px;\\n    transform: translate(-50%, 0);\\n}\\n.jframe-block-margin-rect {\\n    display: flex;\\n    position: absolute;\\n    align-items: center;\\n    justify-content: center;\\n    background: transparent\\n}\\n.jframe-overlayer[disablehover=true] .jframe-block-margin-rect {\\n    background: transparent!important;\\n}\\n.jframe-overlayer[disablehover=true] .jframe-block-margin-rect-content {\\n    display: none!important;\\n}\\n.jframe-block[focus] .jframe-block-margin-rect {\\n    background: repeating-linear-gradient(\\n        45deg,\\n        #EBF0FF,\\n        #EBF0FF 10px,\\n        #fff 10px,\\n        #fff 20px\\n    );\\n}\\n.jframe-block[focus] .jframe-block-margin-rect[visible] {\\n    background: repeating-linear-gradient(\\n        45deg,\\n        #BBCCFF,\\n        #BBCCFF 10px,\\n        #fff 10px,\\n        #fff 20px\\n    );\\n    \\n}\\n.jframe-block-margin-rect-content{\\n    display: none;\\n    background-color: #4E75EC;\\n    color: #fff;\\n    padding: 6px;\\n}\\n.jframe-block[focus] .jframe-block-margin-rect[visible] > .jframe-block-margin-rect-content {\\n    display: block;\\n}\\n\\n.jframe-block-margin-input{\\n    \\n}\\n\\n.jframe-block-content-editor {\\n    position: absolute;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    left: 0;\\n    top: 0;\\n    display: none;\\n}\\n.jframe-block-content-editor .jframe-block-content-editor-input {\\n\\n}\\n\\n\", \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://pure/../../src/style/style.css?./node_modules/css-loader/dist/cjs.js");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += \"}\";\n      }\n\n      if (item[2]) {\n        content += \"}\";\n      }\n\n      if (item[4]) {\n        content += \"}\";\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\n//# sourceURL=webpack://pure/./node_modules/css-loader/dist/runtime/api.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/getUrl.js":
/*!********************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/getUrl.js ***!
  \********************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (!url) {\n    return url;\n  }\n\n  url = String(url.__esModule ? url.default : url); // If url is already wrapped in quotes, remove them\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n\n  return url;\n};\n\n//# sourceURL=webpack://pure/./node_modules/css-loader/dist/runtime/getUrl.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/noSourceMaps.js":
/*!**************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/noSourceMaps.js ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nmodule.exports = function (i) {\n  return i[1];\n};\n\n//# sourceURL=webpack://pure/./node_modules/css-loader/dist/runtime/noSourceMaps.js?");

/***/ }),

/***/ "../../src/style/style.css":
/*!*********************************!*\
  !*** ../../src/style/style.css ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !!../../demo/pure/node_modules/css-loader/dist/cjs.js!./style.css */ \"./node_modules/css-loader/dist/cjs.js!../../src/style/style.css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = (__webpack_require__(/*! !../../demo/pure/node_modules/vue-style-loader/lib/addStylesClient.js */ \"./node_modules/vue-style-loader/lib/addStylesClient.js\")[\"default\"])\nvar update = add(\"490fbc22\", content, false, {});\n// Hot Module Replacement\nif(false) {}\n\n//# sourceURL=webpack://pure/../../src/style/style.css?");

/***/ }),

/***/ "./node_modules/vue-style-loader/lib/addStylesClient.js":
/*!**************************************************************!*\
  !*** ./node_modules/vue-style-loader/lib/addStylesClient.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ addStylesClient)\n/* harmony export */ });\n/* harmony import */ var _listToStyles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./listToStyles */ \"./node_modules/vue-style-loader/lib/listToStyles.js\");\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\n\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nfunction addStylesClient (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = (0,_listToStyles__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = (0,_listToStyles__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n\n\n//# sourceURL=webpack://pure/./node_modules/vue-style-loader/lib/addStylesClient.js?");

/***/ }),

/***/ "./node_modules/vue-style-loader/lib/listToStyles.js":
/*!***********************************************************!*\
  !*** ./node_modules/vue-style-loader/lib/listToStyles.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ listToStyles)\n/* harmony export */ });\n/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nfunction listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n\n\n//# sourceURL=webpack://pure/./node_modules/vue-style-loader/lib/listToStyles.js?");

/***/ }),

/***/ "./assets/delete.png":
/*!***************************!*\
  !*** ./assets/delete.png ***!
  \***************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("module.exports = __webpack_require__.p + \"f4b48cfc1ad3753f9dc5.png\";\n\n//# sourceURL=webpack://pure/./assets/delete.png?");

/***/ }),

/***/ "../../src/style/alignment-center.png":
/*!********************************************!*\
  !*** ../../src/style/alignment-center.png ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("module.exports = __webpack_require__.p + \"ccd93010e74ee9185dab.png\";\n\n//# sourceURL=webpack://pure/../../src/style/alignment-center.png?");

/***/ }),

/***/ "../../src/style/alignment-end.png":
/*!*****************************************!*\
  !*** ../../src/style/alignment-end.png ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("module.exports = __webpack_require__.p + \"b88e0c0d26bad0873185.png\";\n\n//# sourceURL=webpack://pure/../../src/style/alignment-end.png?");

/***/ }),

/***/ "../../src/style/alignment-start.png":
/*!*******************************************!*\
  !*** ../../src/style/alignment-start.png ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("module.exports = __webpack_require__.p + \"1d94483dcdc9633395e3.png\";\n\n//# sourceURL=webpack://pure/../../src/style/alignment-start.png?");

/***/ }),

/***/ "../../src/style/delete.png":
/*!**********************************!*\
  !*** ../../src/style/delete.png ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("module.exports = __webpack_require__.p + \"f4b48cfc1ad3753f9dc5.png\";\n\n//# sourceURL=webpack://pure/../../src/style/delete.png?");

/***/ }),

/***/ "../../src/style/direction-column.png":
/*!********************************************!*\
  !*** ../../src/style/direction-column.png ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("module.exports = __webpack_require__.p + \"4c624e4eb0aa91d00f97.png\";\n\n//# sourceURL=webpack://pure/../../src/style/direction-column.png?");

/***/ }),

/***/ "../../src/style/justify-end.png":
/*!***************************************!*\
  !*** ../../src/style/justify-end.png ***!
  \***************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("module.exports = __webpack_require__.p + \"26b1cf8f510ffb2a2799.png\";\n\n//# sourceURL=webpack://pure/../../src/style/justify-end.png?");

/***/ }),

/***/ "../../src/style/justify-start.png":
/*!*****************************************!*\
  !*** ../../src/style/justify-start.png ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("module.exports = __webpack_require__.p + \"9d3fec1a46f00b1f903f.png\";\n\n//# sourceURL=webpack://pure/../../src/style/justify-start.png?");

/***/ }),

/***/ "../../src/style/splitH.png":
/*!**********************************!*\
  !*** ../../src/style/splitH.png ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("module.exports = __webpack_require__.p + \"ebbcb9bd1f956b12bf2f.png\";\n\n//# sourceURL=webpack://pure/../../src/style/splitH.png?");

/***/ }),

/***/ "../../src/style/splitV.png":
/*!**********************************!*\
  !*** ../../src/style/splitV.png ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("module.exports = __webpack_require__.p + \"f6d84d1729a73e235c5d.png\";\n\n//# sourceURL=webpack://pure/../../src/style/splitV.png?");

/***/ }),

/***/ "./data/data-flex.json":
/*!*****************************!*\
  !*** ./data/data-flex.json ***!
  \*****************************/
/***/ ((module) => {

"use strict";
eval("module.exports = JSON.parse('{\"id\":4,\"concept\":\"ViewElement\",\"type\":0,\"tag\":\"FlexContainer\",\"style\":{\"width\":\"1440px\",\"height\":\"1024px\"},\"children\":[]}');\n\n//# sourceURL=webpack://pure/./data/data-flex.json?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		__webpack_require__.b = document.baseURI || self.location.href;
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"index": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// no jsonp function
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./index.js");
/******/ 	
/******/ })()
;